<!DOCTYPE html>
<html lang="en">
	<head>
		<!--
			Original Author: NoeAL
			Edited and maintained by: TechMechanik
			Project: Animated Lower Thirds - UUFF Version
			GitHub: https://github.com/techmechanik
		-->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<title>Lower Thirds Control Panel</title>
		<link rel="stylesheet" href="../common/css/style-control_panel.css">
		<link rel="stylesheet" href="../common/css/cp-icons.css">
		<script src="../common/js/jquery.js"></script>
		<script src="../common/js/jscolor.js"></script>
		<script src="../common/js/hotkeys.js"></script>
		<script src="../common/js/jquery-ui.js"></script>
	</head>
	<body class="lower-thirds-panel panel">
		<div id="alt-panel" class="static-panel-top" style="margin-bottom: 0px">
			
			<div id="alt-main-config-content"> <!--// Main Settings//-->
				<label class="switch">
				<input class="checkbox-storable" type="checkbox" id="lower-thirds-masterswitch"> <!--"checked" to active switch-->
				<span class="slider round"></span>
				</label>
				<div class="main-title">
					<div class="main-icon icon icon-settings"></div>
					<div>Main settings</div>					
				</div>
				<label class="accordion"></label>
				<div id="global-configuration" class="hidable">
					<div id="time-options">
						<div class="settings-title">Global Times</div>
						<div class="settings-inputs">
							<input class="storable" id="global-animation-time" type="number" placeholder="in-out" tabindex="1">
							<input class="storable" id="global-active-time" type="number" placeholder="active"  tabindex="2">
							<label class="config-btn lock-input">
								<input class="checkbox-storable" type="checkbox" id="global-lock-active">
								<div class="icon-btn icon icon-lock"></div>
							</label>
							<input class="storable" id="global-inactive-time" type="number" placeholder="inactive" tabindex="3">
							<label class="config-btn lock-input">
								<input class="checkbox-storable" type="checkbox" id="global-oneshot">
								<div class="icon-btn icon icon-oneshot"></div>
							</label>
						</div>
					</div>
					<label class="more"><div class="icon icon-angle-down"></div></label>
					<div id="more-settings" class="hide-more">
						<div class="tab">
							<button id="defaultTab" class="tablinks" onclick="openTab(this, 'appearance')">Appearance</button>
							<button class="tablinks" onclick="openTab(this, 'customs')">Customs</button>
							<button class="tablinks" onclick="openTab(this, 'system')">System</button>
						</div>
						<!-- Tab content -->
						<div id="tab-appearance" class="tabcontent" >
							<div id="theme-options">
								<div class="settings-title">Theme</div>
								<div class="settings-inputs">
									<select name="theme" id="theme" class="select-settings-storable" onchange="changeTheme(this.value)"></select>
								</div>
							</div>
							<div class="default-options">
								<div class="settings-title"></div>
								<div class="settings-inputs">
									<label><input class="checkbox-storable" type="checkbox" id="set-preview">Enable preview window</label>
									<label><input class="checkbox-storable" type="checkbox" id="set-slot-numbers">Hide numbers of the memory slots</label>
									<label><input class="checkbox-storable" type="checkbox" id="set-switch-position">Switches on the left</label>
									<label><input class="checkbox-storable" type="checkbox" id="set-tooltips">Show tooltips with the stored content</label>
								</div>
							</div>
						</div>

						<div id="tab-customs" class="tabcontent" >
							<div id="fonts-options">
								<div class="settings-title">Custom Font</div>
								<div class="settings-inputs">
									<input id="new-font-name" placeholder="Font Family" tabindex="51">
									<input id="new-font-url" placeholder="@import url" tabindex="52">
									<div id="add-new-font" class="add"><div class="icon icon-plus-square"></div></div>
								</div>
							</div>
							<div id="custom-font-list">
								<ul>
									<!--custom fonts-->
								</ul>
							</div>
							<div class="logos-options">
								<div class="settings-title">Default Logos</div>
								<div class="settings-inputs">
									<div class="logo-container default" onclick="openLogoPopup('bottom-left-logo-default', 'bottom-left-logo-default')">
										<div class="logo-numbers">1</div>
										<img id="bottom-left-logo-default" class="logo-storable alt-logo-default" >
									</div>
									<div class="logo-container default" onclick="openLogoPopup('bottom-right-logo-default', 'bottom-right-logo-default')">
										<div class="logo-numbers">2</div>
										<img id="bottom-right-logo-default" class="logo-storable alt-logo-default" >
									</div>
									<div class="logo-container default" onclick="openLogoPopup('top-left-logo-default', 'top-left-logo-default')">
										<div class="logo-numbers">3</div>
										<img id="top-left-logo-default" class="logo-storable alt-logo-default" >
									</div>
									<div class="logo-container default" onclick="openLogoPopup('top-right-logo-default', 'top-right-logo-default')">
										<div class="logo-numbers">4</div>
										<img id="top-right-logo-default" class="logo-storable alt-logo-default" >
									</div>
								</div>
							</div>
						</div>

						<div id="tab-system" class="tabcontent" >
							<div class="bottom-options">
								<div class="settings-title">Backup Data</div>
								<div class="settings-inputs">
									<div class="import-file-btn">
										<label for="importFile">Import</label>
										<input id="importFile" type="file"/>
									</div>
									<!-- <input type="text" id="dataInput"> -->
									<div class="btn-settings" onclick="exportData()">Export</div>
									<div class="btn-settings" onclick="openResetPopup()">Reset</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div id="sortable">
				<div class="sortees" id="alt_1"> <!--// Lower Third 1//-->
					<div id="bottom-left-config-content">
						<label class="switch">
						<input class="checkbox-storable" type="checkbox" id="lower-thirds-switch1">
						<span class="slider round"></span>
						</label>
						<label class="config-btn preview-btn">
							<input class="checkbox-storable" type="checkbox" id="bottom-left-preview">
							<div class="icon-btn icon icon-search"></div>
						</label>
						<div class="drag-handle">
							<div class="alt-number-icon">1</div>
							<div id="bottom-left-title" class="renameable title-storable">Lower Third 1</div>
						</div>
						<label class="accordion"></label>
						<div class="hidable">
							<div class="grid-container">
								<div class="grid-row">
									<div>
										<div class="align-toggle">
										<input class="radio-storable" id="bottom-left-align-left" name="bottom-left-align" type="radio" value="left" checked/>
										<label for="bottom-left-align-left" onclick=""><div class="icon icon-aling-left"></div></label>
										<input class="radio-storable" id="bottom-left-align-center" name="bottom-left-align" type="radio" value="center" />
										<label for="bottom-left-align-center" onclick=""><div class="icon icon-aling-center"></div></label>
										<input class="radio-storable" id="bottom-left-align-right" name="bottom-left-align" type="radio" value="right" />
										<label for="bottom-left-align-right" onclick=""><div class="icon icon-aling-right"></div></label>
										</div>
									</div>
									<div>
										<div class="input-icon icon icon-paint-brush"></div>
										<div class="number-input">
											<input id="bottom-left-style" class="storable" min="1" max="4" name="quantity" value="1" type="number" placeholder="1" readonly>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<div class="input-icon icon icon-size"></div>
										<div class="number-input">
											<input id="bottom-left-size" class="storable" min="10" max="50" name="quantity" value="24" type="number" placeholder="24">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>							
									<div class="margin-config group">
										<div class="input-icon icon icon-position"></div>
										<div class="number-input">
											<input id="bottom-left-margin-h" class="storable" min="0" max="100" name="quantity" value="4" type="number" placeholder="4">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
										<div class="number-input input-no-icon">
											<input id="bottom-left-margin-v" class="storable" min="0" max="55" name="quantity" value="4" type="number" placeholder="4">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
								</div>
								<div class="grid-row">
									<div>
										<div class="input-icon icon icon-text-height"></div>
											<div class="number-input">
											<input id="bottom-left-inverse-ratio" class="storable" min="0" max="10" name="quantity" value="9" type="number" placeholder="9">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<div class="input-icon icon icon-line-spacing"></div>
											<div class="number-input">
											<input id="bottom-left-line-spacing" class="storable" min="-5" max="5" name="quantity" value="0" type="number" placeholder="0">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>									
									<div class="font-config group">
										<div class="input-icon icon icon-font"></div>
										<select id="bottom-left-font" class="font-storable">
											<!--Fonts list-->
										</select>
									</div>
								</div>
								<div class="grid-row">
									<div>
										<label class="config-btn">
											<input class="checkbox-storable" type="checkbox" id="bottom-left-logo" checked>
											<div class="icon-btn icon icon-image"></div>
										</label>									
										<div class="number-input">
											<input id="bottom-left-logo-size" class="storable" min="-10" max="10" name="quantity" value="0" type="number" placeholder="0">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>										
									<div>
										<label class="config-btn">
											<input class="checkbox-storable" type="checkbox" id="bottom-left-shadows">
											<div class="icon-btn icon icon-shadow"></div>
										</label>
										<div class="number-input">
											<input id="bottom-left-shadow-amount" class="storable" min="1" max="10" name="quantity" value="5" type="number" placeholder="5">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<label class="config-btn">
											<input class="checkbox-storable" type="checkbox" id="bottom-left-background" checked>
											<div class="icon-btn icon icon-fill-drip"></div>
										</label>
										<div id="bottom-left-style-color-appearance" class="fill-color-appearance">
											<div class="tool-tittle">Clr 1</div>
											<input class="storable" id="bottom-left-style-color-1" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
											<div class="tool-tittle">Clr 2</div>
											<input class="storable" id="bottom-left-style-color-2" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
										</div>
									</div>
								</div>
								<div class="grid-row">
									<div>
										<div class="input-icon icon icon-corner"></div>
										<div class="number-input">
											<input id="bottom-left-corners" class="storable" min="0" max="10" name="quantity" value="0" type="number" placeholder="0">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<label class="config-btn">
											<input class="checkbox-storable twin-checkbox" type="checkbox" name="bottom-left-border" id="bottom-left-border-thickness">
											<div class="icon-btn icon icon-thickness"></div>
										</label>
										<div class="number-input">
											<input id="bottom-left-border-thickness-amount" class="storable" min="1" max="10" name="quantity" value="4" type="number" placeholder="4">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<label class="config-btn">
											<input class="checkbox-storable twin-checkbox" type="checkbox" name="bottom-left-border" id="bottom-left-border-color">
											<div class="icon-btn icon icon-pen"></div>
										</label>
										<div id="bottom-left-style-border-color-appearance" class="border-color-appearance">
											<div class="tool-tittle">Clr 3</div>
											<input class="storable" id="bottom-left-style-color-3" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
											<div class="tool-tittle">Clr 4</div>
											<input class="storable" id="bottom-left-style-color-4" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
										</div>
									</div>
								</div>
							</div>					
						</div>
						<div class="first-edit-container">
							<div class="logo-container" onclick="openLogoPopup('bottom-left-logo-preview', 'bottom-left-logo-default')">
								<img id="bottom-left-logo-preview" class="logo-storable alt-logo-preview" >
							</div>
							<div class="textfields-container">
								<input class="storable" type="text" id="bottom-left-name" placeholder="Name" tabindex="4">
								<div id="bottom-left-name-appearance">
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="bottom-left-name-transform" checked>
										<div class="icon-btn icon small icon-uppercase"></div>
									</label>
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="bottom-left-name-weight" checked>
										<div class="icon-btn icon small icon-bold"></div>
									</label>
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="bottom-left-name-style" checked>
										<div class="icon-btn icon small icon-italic"></div>
									</label>
									<input class="storable" id="bottom-left-name-color" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
								</div>
								<input class="storable" type="text" id="bottom-left-value" placeholder="Info" tabindex="5">
								<div id="bottom-left-value-appearance">
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="bottom-left-value-transform">
										<div class="icon-btn icon small icon-uppercase"></div>
									</label>
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="bottom-left-value-weight">
										<div class="icon-btn icon small icon-bold"></div>
									</label>
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="bottom-left-value-style">
										<div class="icon-btn icon small icon-italic"></div>
									</label>
									<input class="storable" id="bottom-left-value-color" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
								</div>	
								<div style="clear:both"></div>
							</div>
						</div>
						<div class="panel-bottom">
							<div id="bottom-left-clean-inputs" class="clean"><div class="icon icon-cross"></div></div>
							<ul id="bottom-left-memory-slots">
								<li id="bottom-left-slot-1"><div class="slot-number">1</div><div class="slot-storable stored-name" id="bottom-left-name-1"></div><div class="slot-storable stored-info" id="bottom-left-value-1"></div><div class="slot-storable stored-logo" id="bottom-left-logo-1"></div></li>
								<li id="bottom-left-slot-2"><div class="slot-number">2</div><div class="slot-storable stored-name" id="bottom-left-name-2"></div><div class="slot-storable stored-info" id="bottom-left-value-2"></div><div class="slot-storable stored-logo" id="bottom-left-logo-2"></div></li>
								<li id="bottom-left-slot-3"><div class="slot-number">3</div><div class="slot-storable stored-name" id="bottom-left-name-3"></div><div class="slot-storable stored-info" id="bottom-left-value-3"></div><div class="slot-storable stored-logo" id="bottom-left-logo-3"></div></li>
								<li id="bottom-left-slot-4"><div class="slot-number">4</div><div class="slot-storable stored-name" id="bottom-left-name-4"></div><div class="slot-storable stored-info" id="bottom-left-value-4"></div><div class="slot-storable stored-logo" id="bottom-left-logo-4"></div></li>
								<li id="bottom-left-slot-5"><div class="slot-number">5</div><div class="slot-storable stored-name" id="bottom-left-name-5"></div><div class="slot-storable stored-info" id="bottom-left-value-5"></div><div class="slot-storable stored-logo" id="bottom-left-logo-5"></div></li>
								<li id="bottom-left-slot-6"><div class="slot-number">6</div><div class="slot-storable stored-name" id="bottom-left-name-6"></div><div class="slot-storable stored-info" id="bottom-left-value-6"></div><div class="slot-storable stored-logo" id="bottom-left-logo-6"></div></li>
								<li id="bottom-left-slot-7"><div class="slot-number">7</div><div class="slot-storable stored-name" id="bottom-left-name-7"></div><div class="slot-storable stored-info" id="bottom-left-value-7"></div><div class="slot-storable stored-logo" id="bottom-left-logo-7"></div></li>
								<li id="bottom-left-slot-8"><div class="slot-number">8</div><div class="slot-storable stored-name" id="bottom-left-name-8"></div><div class="slot-storable stored-info" id="bottom-left-value-8"></div><div class="slot-storable stored-logo" id="bottom-left-logo-8"></div></li>
								<li id="bottom-left-slot-9"><div class="slot-number">9</div><div class="slot-storable stored-name" id="bottom-left-name-9"></div><div class="slot-storable stored-info" id="bottom-left-value-9"></div><div class="slot-storable stored-logo" id="bottom-left-logo-9"></div></li>
								<li id="bottom-left-slot-10"><div class="slot-number">10</div><div class="slot-storable stored-name" id="bottom-left-name-10"></div><div class="slot-storable stored-info" id="bottom-left-value-10"></div><div class="slot-storable stored-logo" id="bottom-left-logo-10"></div></li>
							</ul>
							<div class="time-bar">
								<div id="bottom-left-active-time-monitor">0</div>
								<div id="bottom-left-inactive-time-monitor">0</div>
							</div>
							<label class="config-btn">
								<input class="checkbox-storable" type="checkbox" id="bottom-left-autotrigger">
								<div class="icon-btn icon icon-autotrigger"></div>
							</label>
							<label class="config-btn">
								<input class="checkbox-storable" type="checkbox" id="bottom-left-autoload">
								<div class="icon-btn icon icon-sync"></div>
							</label>
							<label id="bottom-left-custom-times" class="accordion">
								<div class="icon-btn icon icon-clock"></div>
							</label>
							<div class="hidable">
								<div class="alt-time-options">
									<div class="settings-title">LT1 Times</div>
									<div class="settings-inputs">
										<input class="storable" id="bottom-left-animation-time" type="number" placeholder="in-out" tabindex="12">
										<input class="storable" id="bottom-left-active-time" type="number" placeholder="active" tabindex="13">
										<label class="config-btn lock-input">
											<input class="checkbox-storable" type="checkbox" id="bottom-left-lock-active">
											<div class="icon-btn icon icon-lock"></div>
										</label>
										<input class="storable" id="bottom-left-inactive-time" type="number" placeholder="inactive" tabindex="14">
										<label class="config-btn lock-input">
											<input class="checkbox-storable" type="checkbox" id="bottom-left-oneshot">
											<div class="icon-btn icon icon-oneshot"></div>
										</label>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="sortees" id="alt_2"> <!--// Lower Third 2//-->
					<div id="bottom-right-config-content">
						<label class="switch">
						<input class="checkbox-storable" type="checkbox" id="lower-thirds-switch2">
						<span class="slider round"></span>
						</label>
						<label class="config-btn preview-btn">
							<input class="checkbox-storable" type="checkbox" id="bottom-right-preview">
							<div class="icon-btn icon icon-search"></div>
						</label>
						<div class="drag-handle">
							<div class="alt-number-icon">2</div>
							<div id="bottom-right-title" class="renameable title-storable">Lower Third 2</div>
						</div>
						<label class="accordion"></label>
						<div class="hidable">
							<div class="grid-container">
								<div class="grid-row">
									<div>
										<div class="align-toggle">
										<input class="radio-storable" id="bottom-right-align-left" name="bottom-right-align" type="radio" value="left" checked/>
										<label for="bottom-right-align-left" onclick=""><div class="icon icon-aling-left"></div></label>
										<input class="radio-storable" id="bottom-right-align-center" name="bottom-right-align" type="radio" value="center" />
										<label for="bottom-right-align-center" onclick=""><div class="icon icon-aling-center"></div></label>
										<input class="radio-storable" id="bottom-right-align-right" name="bottom-right-align" type="radio" value="right" />
										<label for="bottom-right-align-right" onclick=""><div class="icon icon-aling-right"></div></label>
										</div>
									</div>
									<div>
										<div class="input-icon icon icon-paint-brush"></div>
										<div class="number-input">
											<input id="bottom-right-style" class="storable" min="1" max="4" name="quantity" value="1" type="number" placeholder="1" readonly>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<div class="input-icon icon icon-size"></div>
										<div class="number-input">
											<input id="bottom-right-size" class="storable" min="10" max="50" name="quantity" value="24" type="number" placeholder="24">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>							
									<div class="margin-config group">
										<div class="input-icon icon icon-position"></div>
										<div class="number-input">
											<input id="bottom-right-margin-h" class="storable" min="0" max="100" name="quantity" value="4" type="number" placeholder="4">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
										<div class="number-input input-no-icon">
											<input id="bottom-right-margin-v" class="storable" min="0" max="55" name="quantity" value="4" type="number" placeholder="4">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
								</div>
								<div class="grid-row">
									<div>
										<div class="input-icon icon icon-text-height"></div>
										<div class="number-input">
											<input id="bottom-right-inverse-ratio" class="storable" min="0" max="10" name="quantity" value="9" type="number" placeholder="9">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<div class="input-icon icon icon-line-spacing"></div>
										<div class="number-input">
											<input id="bottom-right-line-spacing" class="storable" min="-5" max="5" name="quantity" value="2" type="number" placeholder="0">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>									
									<div class="font-config group">
										<div class="input-icon icon icon-font"></div>
										<select id="bottom-right-font" class="font-storable">
											<!--Fonts list-->
										</select>
									</div>
								</div>
								<div class="grid-row">
									<div>
										<label class="config-btn">
											<input class="checkbox-storable" type="checkbox" id="bottom-right-logo" checked>
											<div class="icon-btn icon icon-image"></div>
										</label>									
										<div class="number-input">
											<input id="bottom-right-logo-size" class="storable" min="-10" max="10" name="quantity" value="0" type="number" placeholder="0">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>										
									<div>
										<label class="config-btn">
											<input class="checkbox-storable" type="checkbox" id="bottom-right-shadows">
											<div class="icon-btn icon icon-shadow"></div>
										</label>
										<div class="number-input">
											<input id="bottom-right-shadow-amount" class="storable" min="1" max="10" name="quantity" value="5" type="number" placeholder="5">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<label class="config-btn">
											<input class="checkbox-storable" type="checkbox" id="bottom-right-background" checked>
											<div class="icon-btn icon icon-fill-drip"></div>
										</label>
										<div id="bottom-right-style-color-appearance" class="fill-color-appearance">
											<div class="tool-tittle">Clr 1</div>
											<input class="storable" id="bottom-right-style-color-1" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
											<div class="tool-tittle">Clr 2</div>
											<input class="storable" id="bottom-right-style-color-2" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
										</div>
									</div>
								</div>
								<div class="grid-row">
									<div>
										<div class="input-icon icon icon-corner"></div>
										<div class="number-input">
											<input id="bottom-right-corners" class="storable" min="0" max="10" name="quantity" value="0" type="number" placeholder="0">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<label class="config-btn">
											<input class="checkbox-storable twin-checkbox" type="checkbox" name="bottom-right-border" id="bottom-right-border-thickness">
											<div class="icon-btn icon icon-thickness"></div>
										</label>
										<div class="number-input">
											<input id="bottom-right-border-thickness-amount" class="storable" min="1" max="10" name="quantity" value="4" type="number" placeholder="4">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<label class="config-btn">
											<input class="checkbox-storable twin-checkbox" type="checkbox" name="bottom-right-border" id="bottom-right-border-color">
											<div class="icon-btn icon icon-pen"></div>
										</label>
										<div id="bottom-right-style-border-color-appearance" class="border-color-appearance">
											<div class="tool-tittle">Clr 3</div>
											<input class="storable" id="bottom-right-style-color-3" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
											<div class="tool-tittle">Clr 4</div>
											<input class="storable" id="bottom-right-style-color-4" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
										</div>
									</div>									
								</div>
							</div>					
						</div>
						<div class="first-edit-container">
							<div class="logo-container" onclick="openLogoPopup('bottom-right-logo-preview', 'bottom-right-logo-default')">
								<img id="bottom-right-logo-preview" class="logo-storable alt-logo-preview" >
							</div>
							<div class="textfields-container">
								<input class="storable" type="text" id="bottom-right-name" placeholder="Name" tabindex="6">
								<div id="bottom-right-name-appearance">
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="bottom-right-name-transform" checked>
										<div class="icon-btn icon small icon-uppercase"></div>
									</label>
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="bottom-right-name-weight" checked>
										<div class="icon-btn icon small icon-bold"></div>
									</label>
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="bottom-right-name-style" checked>
										<div class="icon-btn icon small icon-italic"></div>
									</label>
									<input class="storable" id="bottom-right-name-color" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
								</div>
								<input class="storable" type="text" id="bottom-right-value" placeholder="Info" tabindex="7">
								<div id="bottom-right-value-appearance">
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="bottom-right-value-transform">
										<div class="icon-btn icon small icon-uppercase"></div>
									</label>
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="bottom-right-value-weight">
										<div class="icon-btn icon small icon-bold"></div>
									</label>
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="bottom-right-value-style">
										<div class="icon-btn icon small icon-italic"></div>
									</label>
									<input class="storable" id="bottom-right-value-color" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
								</div>	
								<div style="clear:both"></div>
							</div>
						</div>
						<div class="panel-bottom">
							<div id="bottom-right-clean-inputs" class="clean"><div class="icon icon-cross"></div></div>
							<ul id="bottom-right-memory-slots">
								<li id="bottom-right-slot-1"><div class="slot-number">1</div><div class="slot-storable stored-name" id="bottom-right-name-1"></div><div class="slot-storable stored-info" id="bottom-right-value-1"></div><div class="slot-storable stored-logo" id="bottom-right-logo-1"></div></li>
								<li id="bottom-right-slot-2"><div class="slot-number">2</div><div class="slot-storable stored-name" id="bottom-right-name-2"></div><div class="slot-storable stored-info" id="bottom-right-value-2"></div><div class="slot-storable stored-logo" id="bottom-right-logo-2"></div></li>
								<li id="bottom-right-slot-3"><div class="slot-number">3</div><div class="slot-storable stored-name" id="bottom-right-name-3"></div><div class="slot-storable stored-info" id="bottom-right-value-3"></div><div class="slot-storable stored-logo" id="bottom-right-logo-3"></div></li>
								<li id="bottom-right-slot-4"><div class="slot-number">4</div><div class="slot-storable stored-name" id="bottom-right-name-4"></div><div class="slot-storable stored-info" id="bottom-right-value-4"></div><div class="slot-storable stored-logo" id="bottom-right-logo-4"></div></li>
								<li id="bottom-right-slot-5"><div class="slot-number">5</div><div class="slot-storable stored-name" id="bottom-right-name-5"></div><div class="slot-storable stored-info" id="bottom-right-value-5"></div><div class="slot-storable stored-logo" id="bottom-right-logo-5"></div></li>
								<li id="bottom-right-slot-6"><div class="slot-number">6</div><div class="slot-storable stored-name" id="bottom-right-name-6"></div><div class="slot-storable stored-info" id="bottom-right-value-6"></div><div class="slot-storable stored-logo" id="bottom-right-logo-6"></div></li>
								<li id="bottom-right-slot-7"><div class="slot-number">7</div><div class="slot-storable stored-name" id="bottom-right-name-7"></div><div class="slot-storable stored-info" id="bottom-right-value-7"></div><div class="slot-storable stored-logo" id="bottom-right-logo-7"></div></li>
								<li id="bottom-right-slot-8"><div class="slot-number">8</div><div class="slot-storable stored-name" id="bottom-right-name-8"></div><div class="slot-storable stored-info" id="bottom-right-value-8"></div><div class="slot-storable stored-logo" id="bottom-right-logo-8"></div></li>
								<li id="bottom-right-slot-9"><div class="slot-number">9</div><div class="slot-storable stored-name" id="bottom-right-name-9"></div><div class="slot-storable stored-info" id="bottom-right-value-9"></div><div class="slot-storable stored-logo" id="bottom-right-logo-9"></div></li>
								<li id="bottom-right-slot-10"><div class="slot-number">10</div><div class="slot-storable stored-name" id="bottom-right-name-10"></div><div class="slot-storable stored-info" id="bottom-right-value-10"></div><div class="slot-storable stored-logo" id="bottom-right-logo-10"></div></li>
							</ul>
							<div class="time-bar">
								<div id="bottom-right-active-time-monitor">0</div>
								<div id="bottom-right-inactive-time-monitor">0</div>
							</div>
							<label class="config-btn">
								<input class="checkbox-storable" type="checkbox" id="bottom-right-autotrigger">
								<div class="icon-btn icon icon-autotrigger"></div>
							</label>
							<label class="config-btn">
								<input class="checkbox-storable" type="checkbox" id="bottom-right-autoload">
								<div class="icon-btn icon icon-sync"></div>
							</label>
							<label id="bottom-right-custom-times" class="accordion">
								<div class="icon-btn icon icon-clock"></div>
							</label>
							<div class="hidable">
								<div class="alt-time-options">
									<div class="settings-title">LT2 Times</div>
									<div class="settings-inputs">
										<input class="storable" id="bottom-right-animation-time" type="number" placeholder="in-out" tabindex="15">
										<input class="storable" id="bottom-right-active-time" type="number" placeholder="active" tabindex="16">
										<label class="config-btn lock-input">
											<input class="checkbox-storable" type="checkbox" id="bottom-right-lock-active">
											<div class="icon-btn icon icon-lock"></div>
										</label>
										<input class="storable" id="bottom-right-inactive-time" type="number" placeholder="inactive" tabindex="17">
										<label class="config-btn lock-input">
											<input class="checkbox-storable" type="checkbox" id="bottom-right-oneshot">
											<div class="icon-btn icon icon-oneshot"></div>
										</label>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="sortees" id="alt_3"> <!--// Lower Third 3//-->
					<div id="top-left-config-content">
						<label class="switch">
						<input class="checkbox-storable" type="checkbox" id="lower-thirds-switch3">
						<span class="slider round"></span>
						</label>
						<label class="config-btn preview-btn">
							<input class="checkbox-storable" type="checkbox" id="top-left-preview">
							<div class="icon-btn icon icon-search"></div>
						</label>
						<div class="drag-handle">
							<div class="alt-number-icon">3</div>
							<div id="top-left-title" class="renameable title-storable">Lower Third 3</div>
						</div>
						<label class="accordion"></label>
						<div class="hidable">
							<div class="grid-container">
								<div class="grid-row">
									<div>
										<div class="align-toggle">
										<input class="radio-storable" id="top-left-align-left" name="top-left-align" type="radio" value="left" checked/>
										<label for="top-left-align-left" onclick=""><div class="icon icon-aling-left"></div></label>
										<input class="radio-storable" id="top-left-align-center" name="top-left-align" type="radio" value="center" />
										<label for="top-left-align-center" onclick=""><div class="icon icon-aling-center"></div></label>
										<input class="radio-storable" id="top-left-align-right" name="top-left-align" type="radio" value="right" />
										<label for="top-left-align-right" onclick=""><div class="icon icon-aling-right"></div></label>
										</div>
									</div>
									<div>
										<div class="input-icon icon icon-paint-brush"></div>
										<div class="number-input">
											<input id="top-left-style" class="storable" min="1" max="4" name="quantity" value="1" type="number" placeholder="1" readonly>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<div class="input-icon icon icon-size"></div>
										<div class="number-input">
											<input id="top-left-size" class="storable" min="10" max="50" name="quantity" value="24" type="number" placeholder="24">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>							
									<div class="margin-config group">
										<div class="input-icon icon icon-position"></div>
										<div class="number-input">
											<input id="top-left-margin-h" class="storable" min="0" max="100" name="quantity" value="4" type="number" placeholder="4">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
										<div class="number-input input-no-icon">
											<input id="top-left-margin-v" class="storable" min="0" max="55" name="quantity" value="4" type="number" placeholder="4">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
								</div>
								<div class="grid-row">
									<div>
										<div class="input-icon icon icon-text-height"></div>
										<div class="number-input">
											<input id="top-left-inverse-ratio" class="storable" min="0" max="10" name="quantity" value="9" type="number" placeholder="9">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<div class="input-icon icon icon-line-spacing"></div>
										<div class="number-input">
											<input id="top-left-line-spacing" class="storable" min="-5" max="5" name="quantity" value="2" type="number" placeholder="0">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>									
									<div class="font-config group">
										<div class="input-icon icon icon-font"></div>
										<select id="top-left-font" class="font-storable">
											<!--Fonts list-->
										</select>
									</div>
								</div>
								<div class="grid-row">
									<div>
										<label class="config-btn">
											<input class="checkbox-storable" type="checkbox" id="top-left-logo" checked>
											<div class="icon-btn icon icon-image"></div>
										</label>									
										<div class="number-input">
											<input id="top-left-logo-size" class="storable" min="-10" max="10" name="quantity" value="0" type="number" placeholder="0">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>										
									<div>
										<label class="config-btn">
											<input class="checkbox-storable" type="checkbox" id="top-left-shadows">
											<div class="icon-btn icon icon-shadow"></div>
										</label>
										<div class="number-input">
											<input id="top-left-shadow-amount" class="storable" min="1" max="10" name="quantity" value="5" type="number" placeholder="5">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<label class="config-btn">
											<input class="checkbox-storable" type="checkbox" id="top-left-background" checked>
											<div class="icon-btn icon icon-fill-drip"></div>
										</label>
										<div id="top-left-style-color-appearance" class="fill-color-appearance">
											<div class="tool-tittle">Clr 1</div>
											<input class="storable" id="top-left-style-color-1" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
											<div class="tool-tittle">Clr 2</div>
											<input class="storable" id="top-left-style-color-2" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
										</div>
									</div>
								</div>
								<div class="grid-row">
									<div>
										<div class="input-icon icon icon-corner"></div>
										<div class="number-input">
											<input id="top-left-corners" class="storable" min="0" max="10" name="quantity" value="0" type="number" placeholder="0">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<label class="config-btn">
											<input class="checkbox-storable twin-checkbox" type="checkbox" name="top-left-border" id="top-left-border-thickness">
											<div class="icon-btn icon icon-thickness"></div>
										</label>
										<div class="number-input">
											<input id="top-left-border-thickness-amount" class="storable" min="1" max="10" name="quantity" value="4" type="number" placeholder="4">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<label class="config-btn">
											<input class="checkbox-storable twin-checkbox" type="checkbox" name="top-left-border" id="top-left-border-color">
											<div class="icon-btn icon icon-pen"></div>
										</label>
										<div id="top-left-style-border-color-appearance" class="border-color-appearance">
											<div class="tool-tittle">Clr 3</div>
											<input class="storable" id="top-left-style-color-3" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
											<div class="tool-tittle">Clr 4</div>
											<input class="storable" id="top-left-style-color-4" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
										</div>
									</div>									
								</div>
							</div>					
						</div>
						<div class="first-edit-container">
							<div class="logo-container" onclick="openLogoPopup('top-left-logo-preview', 'top-left-logo-default')">
								<img id="top-left-logo-preview" class="logo-storable alt-logo-preview" >
							</div>
							<div class="textfields-container">
								<input class="storable" type="text" id="top-left-name" placeholder="Name" tabindex="8">
								<div id="top-left-name-appearance">
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="top-left-name-transform" checked>
										<div class="icon-btn icon small icon-uppercase"></div>
									</label>
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="top-left-name-weight" checked>
										<div class="icon-btn icon small icon-bold"></div>
									</label>
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="top-left-name-style" checked>
										<div class="icon-btn icon small icon-italic"></div>
									</label>
									<input class="storable" id="top-left-name-color" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
								</div>
								<input class="storable" type="text" id="top-left-value" placeholder="Info" tabindex="9">
								<div id="top-left-value-appearance">
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="top-left-value-transform">
										<div class="icon-btn icon small icon-uppercase"></div>
									</label>
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="top-left-value-weight">
										<div class="icon-btn icon small icon-bold"></div>
									</label>
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="top-left-value-style">
										<div class="icon-btn icon small icon-italic"></div>
									</label>
									<input class="storable" id="top-left-value-color" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
								</div>	
								<div style="clear:both"></div>
							</div>
						</div>
						<div class="panel-bottom">
							<div id="top-left-clean-inputs" class="clean"><div class="icon icon-cross"></div></div>
							<ul id="top-left-memory-slots">
								<li id="top-left-slot-1"><div class="slot-number">1</div><div class="slot-storable stored-name" id="top-left-name-1"></div><div class="slot-storable stored-info" id="top-left-value-1"></div><div class="slot-storable stored-logo" id="top-left-logo-1"></div></li>
								<li id="top-left-slot-2"><div class="slot-number">2</div><div class="slot-storable stored-name" id="top-left-name-2"></div><div class="slot-storable stored-info" id="top-left-value-2"></div><div class="slot-storable stored-logo" id="top-left-logo-2"></div></li>
								<li id="top-left-slot-3"><div class="slot-number">3</div><div class="slot-storable stored-name" id="top-left-name-3"></div><div class="slot-storable stored-info" id="top-left-value-3"></div><div class="slot-storable stored-logo" id="top-left-logo-3"></div></li>
								<li id="top-left-slot-4"><div class="slot-number">4</div><div class="slot-storable stored-name" id="top-left-name-4"></div><div class="slot-storable stored-info" id="top-left-value-4"></div><div class="slot-storable stored-logo" id="top-left-logo-4"></div></li>
								<li id="top-left-slot-5"><div class="slot-number">5</div><div class="slot-storable stored-name" id="top-left-name-5"></div><div class="slot-storable stored-info" id="top-left-value-5"></div><div class="slot-storable stored-logo" id="top-left-logo-5"></div></li>
								<li id="top-left-slot-6"><div class="slot-number">6</div><div class="slot-storable stored-name" id="top-left-name-6"></div><div class="slot-storable stored-info" id="top-left-value-6"></div><div class="slot-storable stored-logo" id="top-left-logo-6"></div></li>
								<li id="top-left-slot-7"><div class="slot-number">7</div><div class="slot-storable stored-name" id="top-left-name-7"></div><div class="slot-storable stored-info" id="top-left-value-7"></div><div class="slot-storable stored-logo" id="top-left-logo-7"></div></li>
								<li id="top-left-slot-8"><div class="slot-number">8</div><div class="slot-storable stored-name" id="top-left-name-8"></div><div class="slot-storable stored-info" id="top-left-value-8"></div><div class="slot-storable stored-logo" id="top-left-logo-8"></div></li>
								<li id="top-left-slot-9"><div class="slot-number">9</div><div class="slot-storable stored-name" id="top-left-name-9"></div><div class="slot-storable stored-info" id="top-left-value-9"></div><div class="slot-storable stored-logo" id="top-left-logo-9"></div></li>
								<li id="top-left-slot-10"><div class="slot-number">10</div><div class="slot-storable stored-name" id="top-left-name-10"></div><div class="slot-storable stored-info" id="top-left-value-10"></div><div class="slot-storable stored-logo" id="top-left-logo-10"></div></li>
							</ul>
							<div class="time-bar">
								<div id="top-left-active-time-monitor">0</div>
								<div id="top-left-inactive-time-monitor">0</div>
							</div>
							<label class="config-btn">
								<input class="checkbox-storable" type="checkbox" id="top-left-autotrigger">
								<div class="icon-btn icon icon-autotrigger"></div>
							</label>
							<label class="config-btn">
								<input class="checkbox-storable" type="checkbox" id="top-left-autoload">
								<div class="icon-btn icon icon-sync"></div>
							</label>
							<label id="top-left-custom-times" class="accordion">
								<div class="icon-btn icon icon-clock"></div>
							</label>
							<div class="hidable">
								<div class="alt-time-options">
									<div class="settings-title">LT3 Times</div>
									<div class="settings-inputs">
										<input class="storable" id="top-left-animation-time" type="number" placeholder="in-out" tabindex="18">
										<input class="storable" id="top-left-active-time" type="number" placeholder="active" tabindex="19">
										<label class="config-btn lock-input">
											<input class="checkbox-storable" type="checkbox" id="top-left-lock-active">
											<div class="icon-btn icon icon-lock"></div>
										</label>
										<input class="storable" id="top-left-inactive-time" type="number" placeholder="inactive" tabindex="20">
										<label class="config-btn lock-input">
											<input class="checkbox-storable" type="checkbox" id="top-left-oneshot">
											<div class="icon-btn icon icon-oneshot"></div>
										</label>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="sortees" id="alt_4"> <!--// Lower Third 4//-->
					<div id="top-right-config-content">
						<label class="switch">
						<input class="checkbox-storable" type="checkbox" id="lower-thirds-switch4">
						<span class="slider round"></span>
						</label>
						<label class="config-btn preview-btn">
							<input class="checkbox-storable" type="checkbox" id="top-right-preview">
							<div class="icon-btn icon icon-search"></div>
						</label>
						<div class="drag-handle">
							<div class="alt-number-icon">4</div>
							<div id="top-right-title" class="renameable title-storable">Lower Third 4</div>
						</div>
						<label class="accordion"></label>
						<div class="hidable">
							<div class="grid-container">
								<div class="grid-row">
									<div>
										<div class="align-toggle">
										<input class="radio-storable" id="top-right-align-left" name="top-right-align" type="radio" value="left" checked/>
										<label for="top-right-align-left" onclick=""><div class="icon icon-aling-left"></div></label>
										<input class="radio-storable" id="top-right-align-center" name="top-right-align" type="radio" value="center" />
										<label for="top-right-align-center" onclick=""><div class="icon icon-aling-center"></div></label>
										<input class="radio-storable" id="top-right-align-right" name="top-right-align" type="radio" value="right" />
										<label for="top-right-align-right" onclick=""><div class="icon icon-aling-right"></div></label>
										</div>
									</div>
									<div>
										<div class="input-icon icon icon-paint-brush"></div>
										<div class="number-input">
											<input id="top-right-style" class="storable" min="1" max="4" name="quantity" value="1" type="number" placeholder="1" readonly>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<div class="input-icon icon icon-size"></div>
										<div class="number-input">
											<input id="top-right-size" class="storable" min="10" max="50" name="quantity" value="24" type="number" placeholder="24">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>							
									<div class="margin-config group">
										<div class="input-icon icon icon-position"></div>
										<div class="number-input">
											<input id="top-right-margin-h" class="storable" min="0" max="100" name="quantity" value="4" type="number" placeholder="4">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
										<div class="number-input input-no-icon">
											<input id="top-right-margin-v" class="storable" min="0" max="55" name="quantity" value="4" type="number" placeholder="4">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
								</div>
								<div class="grid-row">
									<div>
										<div class="input-icon icon icon-text-height"></div>
										<div class="number-input">
											<input id="top-right-inverse-ratio" class="storable" min="0" max="10" name="quantity" value="9" type="number" placeholder="9">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<div class="input-icon icon icon-line-spacing"></div>
										<div class="number-input">
											<input id="top-right-line-spacing" class="storable" min="-5" max="5" name="quantity" value="2" type="number" placeholder="0">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>									
									<div class="font-config group">
										<div class="input-icon icon icon-font"></div>
										<select id="top-right-font" class="font-storable">
											<!--Fonts list-->
										</select>
									</div>
								</div>
								<div class="grid-row">
									<div>
										<label class="config-btn">
											<input class="checkbox-storable" type="checkbox" id="top-right-logo" checked>
											<div class="icon-btn icon icon-image"></div>
										</label>									
										<div class="number-input">
											<input id="top-right-logo-size" class="storable" min="-10" max="10" name="quantity" value="0" type="number" placeholder="0">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>										
									<div>
										<label class="config-btn">
											<input class="checkbox-storable" type="checkbox" id="top-right-shadows">
											<div class="icon-btn icon icon-shadow"></div>
										</label>
										<div class="number-input">
											<input id="top-right-shadow-amount" class="storable" min="1" max="10" name="quantity" value="5" type="number" placeholder="5">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<label class="config-btn">
											<input class="checkbox-storable" type="checkbox" id="top-right-background" checked>
											<div class="icon-btn icon icon-fill-drip"></div>
										</label>
										<div id="top-right-style-color-appearance" class="fill-color-appearance">
											<div class="tool-tittle">Clr 1</div>
											<input class="storable" id="top-right-style-color-1" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
											<div class="tool-tittle">Clr 2</div>
											<input class="storable" id="top-right-style-color-2" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
										</div>
									</div>
								</div>
								<div class="grid-row">
									<div>
										<div class="input-icon icon icon-corner"></div>
										<div class="number-input">
											<input id="top-right-corners" class="storable" min="0" max="10" name="quantity" value="0" type="number" placeholder="0">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<label class="config-btn">
											<input class="checkbox-storable twin-checkbox" type="checkbox" name="top-right-border" id="top-right-border-thickness">
											<div class="icon-btn icon icon-thickness"></div>
										</label>
										<div class="number-input">
											<input id="top-right-border-thickness-amount" class="storable" min="1" max="10" name="quantity" value="4" type="number" placeholder="4">
											<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
											<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										</div>
									</div>
									<div>
										<label class="config-btn">
											<input class="checkbox-storable twin-checkbox" type="checkbox" name="top-right-border" id="top-right-border-color">
											<div class="icon-btn icon icon-pen"></div>
										</label>
										<div id="top-right-style-border-color-appearance" class="border-color-appearance">
											<div class="tool-tittle">Clr 3</div>
											<input class="storable" id="top-right-style-color-3" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
											<div class="tool-tittle">Clr 4</div>
											<input class="storable" id="top-right-style-color-4" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
										</div>
									</div>									
								</div>
							</div>					
						</div>
						<div class="first-edit-container">
							<div class="logo-container" onclick="openLogoPopup('top-right-logo-preview', 'top-right-logo-default')">
								<img id="top-right-logo-preview" class="logo-storable alt-logo-preview" >
							</div>
							<div class="textfields-container">
								<input class="storable" type="text" id="top-right-name" placeholder="Name" tabindex="10">
								<div id="top-right-name-appearance">
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="top-right-name-transform" checked>
										<div class="icon-btn icon small icon-uppercase"></div>
									</label>
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="top-right-name-weight" checked>
										<div class="icon-btn icon small icon-bold"></div>
									</label>
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="top-right-name-style" checked>
										<div class="icon-btn icon small icon-italic"></div>
									</label>
									<input class="storable" id="top-right-name-color" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
								</div>
								<input class="storable" type="text" id="top-right-value" placeholder="Info" tabindex="11">
								<div id="top-right-value-appearance">
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="top-right-value-transform">
										<div class="icon-btn icon small icon-uppercase"></div>
									</label>
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="top-right-value-weight">
										<div class="icon-btn icon small icon-bold"></div>
									</label>
									<label class="config-btn small">
										<input class="checkbox-storable" type="checkbox" id="top-right-value-style">
										<div class="icon-btn icon small icon-italic"></div>
									</label>
									<input class="storable" id="top-right-value-color" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="">
								</div>	
								<div style="clear:both"></div>
							</div>
						</div>
						<div class="panel-bottom">
							<div id="top-right-clean-inputs" class="clean"><div class="icon icon-cross"></div></div>
							<ul id="top-right-memory-slots">
								<li id="top-right-slot-1"><div class="slot-number">1</div><div class="slot-storable stored-name" id="top-right-name-1"></div><div class="slot-storable stored-info" id="top-right-value-1"></div><div class="slot-storable stored-logo" id="top-right-logo-1"></div></li>
								<li id="top-right-slot-2"><div class="slot-number">2</div><div class="slot-storable stored-name" id="top-right-name-2"></div><div class="slot-storable stored-info" id="top-right-value-2"></div><div class="slot-storable stored-logo" id="top-right-logo-2"></div></li>
								<li id="top-right-slot-3"><div class="slot-number">3</div><div class="slot-storable stored-name" id="top-right-name-3"></div><div class="slot-storable stored-info" id="top-right-value-3"></div><div class="slot-storable stored-logo" id="top-right-logo-3"></div></li>
								<li id="top-right-slot-4"><div class="slot-number">4</div><div class="slot-storable stored-name" id="top-right-name-4"></div><div class="slot-storable stored-info" id="top-right-value-4"></div><div class="slot-storable stored-logo" id="top-right-logo-4"></div></li>
								<li id="top-right-slot-5"><div class="slot-number">5</div><div class="slot-storable stored-name" id="top-right-name-5"></div><div class="slot-storable stored-info" id="top-right-value-5"></div><div class="slot-storable stored-logo" id="top-right-logo-5"></div></li>
								<li id="top-right-slot-6"><div class="slot-number">6</div><div class="slot-storable stored-name" id="top-right-name-6"></div><div class="slot-storable stored-info" id="top-right-value-6"></div><div class="slot-storable stored-logo" id="top-right-logo-6"></div></li>
								<li id="top-right-slot-7"><div class="slot-number">7</div><div class="slot-storable stored-name" id="top-right-name-7"></div><div class="slot-storable stored-info" id="top-right-value-7"></div><div class="slot-storable stored-logo" id="top-right-logo-7"></div></li>
								<li id="top-right-slot-8"><div class="slot-number">8</div><div class="slot-storable stored-name" id="top-right-name-8"></div><div class="slot-storable stored-info" id="top-right-value-8"></div><div class="slot-storable stored-logo" id="top-right-logo-8"></div></li>
								<li id="top-right-slot-9"><div class="slot-number">9</div><div class="slot-storable stored-name" id="top-right-name-9"></div><div class="slot-storable stored-info" id="top-right-value-9"></div><div class="slot-storable stored-logo" id="top-right-logo-9"></div></li>
								<li id="top-right-slot-10"><div class="slot-number">10</div><div class="slot-storable stored-name" id="top-right-name-10"></div><div class="slot-storable stored-info" id="top-right-value-10"></div><div class="slot-storable stored-logo" id="top-right-logo-10"></div></li>
							</ul>
							<div class="time-bar">
								<div id="top-right-active-time-monitor">0</div>
								<div id="top-right-inactive-time-monitor">0</div>
							</div>
							<label class="config-btn">
								<input class="checkbox-storable" type="checkbox" id="top-right-autotrigger">
								<div class="icon-btn icon icon-autotrigger"></div>
							</label>
							<label class="config-btn">
								<input class="checkbox-storable" type="checkbox" id="top-right-autoload">
								<div class="icon-btn icon icon-sync"></div>
							</label>
							<label id="top-right-custom-times" class="accordion">
								<div class="icon-btn icon icon-clock"></div>
							</label>
							<div class="hidable">
								<div class="alt-time-options">
									<div class="settings-title">LT4 Times</div>
									<div class="settings-inputs">
										<input class="storable" id="top-right-animation-time" type="number" placeholder="in-out" tabindex="21">
										<input class="storable" id="top-right-active-time" type="number" placeholder="active" tabindex="22">
										<label class="config-btn lock-input">
											<input class="checkbox-storable" type="checkbox" id="top-right-lock-active">
											<div class="icon-btn icon icon-lock"></div>
										</label>
										<input class="storable" id="top-right-inactive-time" type="number" placeholder="inactive" tabindex="23">
										<label class="config-btn lock-input">
											<input class="checkbox-storable" type="checkbox" id="top-right-oneshot">
											<div class="icon-btn icon icon-oneshot"></div>
										</label>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>

			<div id="select-image" class="center hide" >
				<div class="select-image-bg" onclick="cancelLogoPopup()"></div>
				<div class="form-input">
					<div class="file-btns">
						<label for="logo-file">Choose image</label>
						<input type="file" id="logo-file" accept="image/*" onchange="showPreview(this);">
						<div class="btn-remove" onclick="removeLogoPopup()"><div class="icon-btn icon icon-trash"></div></div>
					</div>
					<div id="file-preview" class="no-image">
						<img id="logo-file-preview">
					</div>
					<div class="file-btns">
						<div class="btn-ok" onclick="okLogoPopup()">Ok</div>
						<div class="btn-cancel" onclick="cancelLogoPopup()">Cancel</div>
					</div>
				</div>
			</div>

			<div id="export-data" class="center hide" >
				<div class="export-data-bg" onclick="okExportPopup()"></div>
				<div class="form-input">
					<div>
						<h1>Copied to clipboard</h1>
						<p>For security reasons, the exported data has been copied to the clipboard. Please paste it into a text editor (e.g. Notepad) and save it as a TXT file.</p>
						<p>If you prefer, you can copy it manually:</p>
						<textarea id="dataInput" rows="4" cols="50" onclick="this.focus();this.select()"></textarea>
					</div>
					<div class="export-btns">
						<div class="btn-ok-export" onclick="okExportPopup()">Ok</div>
					</div>
				</div>
			</div>

			<div id="reset-all" class="center hide" >
				<div class="reset-all-bg" onclick="cancelResetPopup()"></div>
				<div class="form-input">
					<div>
						<h1>Reset all settings</h1>
						<p>You are going to reset all configuration and memory slots ¿Are you sure?</p>
					</div>
					<div class="reset-btns">
						<div class="btn-ok-reset" onclick="okResetPopup()">Ok</div>
						<div class="btn-cancel" onclick="cancelResetPopup()">Cancel</div>
					</div>
				</div>
			</div>

			<div id='fileNames'> </div>

			<div id="alt-preview" class="active">
				<label><div class="icon icon-search"></div></label>
				<div id="toggle-preview" class="active"><div class="icon icon-chevron-down"></div></div>
				<div class="embed-container">
				    <iframe id="myiframe" src="./browser-source.html?mode=preview" frameborder="0" allowfullscreen></iframe>
				</div>
			</div>

		</div>

		<script>
			/**
			 *
			 * DEFAULT VALUES
			 *
			 */
			const default_style = 1;
			const default_size = 24;
			const default_margin_h = 4;
			const default_margin_v = 4;

			const default_inverse_ratio = 9;
			const default_line_spacing = 0;

			const default_logo = true;
			const default_logo_size = 0;
			const default_logo_size_em = 3.5;
			const default_shadow = false;
			const default_shadow_amount = 5;
			const default_shadow_amount_em = 0.5;
			const default_background = true;
			const default_style_color_1 = '#D54141';
			const default_style_color_2 = '#222222';

			const default_corners = 0;
			const default_border_thickness = false;
			const default_border_thickness_amount = 0;
			const default_border_color = false;
			const default_style_color_3 = '#D54141';
			const default_style_color_4 = '#222222';

			const default_name_transform = true;
			const default_name_weight = true;
			const default_name_style = false;
			const default_name_color = '#F2F2F2';

			const default_info_transform = false;
			const default_info_weight = false;
			const default_info_style = false;
			const default_info_color = '#8A8A8A';

			function loadDefaultValues() {
				$("[id^=alt-][id$=-style]").val(default_style);
				$("[id^=alt-][id$=-size]").val(default_size);

				// bottom-left: lower left
				$("[id^=alt-][id$=-margin-h]").val(default_margin_h);
				$("[id^=alt-][id$=-margin-v]").val(default_margin_v);

				// bottom-right: lower right
				$("#bottom-right-align-right").prop('checked', true).change();
				$("#bottom-right-margin-v").val(55); // max vertical margin (bottom)
				$("#bottom-right-margin-h").val(100); // max horizontal margin (right)

				// top-left: upper left
				$("#top-left-align-left").prop('checked', true).change();
				$("#top-left-margin-v").val(0); // min vertical margin (top)
				$("#top-left-margin-h").val(0); // min horizontal margin (left)

				// top-right: upper right
				$("#top-right-align-right").prop('checked', true).change();
				$("#top-right-margin-v").val(0); // min vertical margin (top)
				$("#top-right-margin-h").val(100); // max horizontal margin (right)

				$("[id^=alt-][id$=-inverse-ratio]").val(default_inverse_ratio);
				$("[id^=alt-][id$=-line-spacing]").val(default_line_spacing);

				$("[id^=alt-][id$=-logo]").prop('checked', default_logo);
				$("[id^=alt-][id$=-logo-size]").val(default_logo_size);
				$("[id^=alt-][id$=-shadow]").prop('checked', default_shadow);
				$("[id^=alt-][id$=-shadow-amount]").val(default_shadow_amount);
				$("[id^=alt-][id$=-background]").val('checked', default_background);
				$("[id^=alt-][id$=-style-color-1]").val(default_style_color_1);
				$("[id^=alt-][id$=-style-color-2]").val(default_style_color_2);

				$("[id^=alt-][id$=-corners]").val(default_corners);
				$("[id^=alt-][id$=-border-thickness]").prop('checked', default_border_thickness);
				$("[id^=alt-][id$=-border-thickness-amount]").val(default_border_thickness_amount);
				$("[id^=alt-][id$=-border-color]").prop('checked', default_border_color);
				$("[id^=alt-][id$=-style-color-3]").val(default_style_color_3);
				$("[id^=alt-][id$=-style-color-4]").val(default_style_color_4);

				$("[id^=alt-][id$=-name-transform]").prop('checked', default_name_transform);
				$("[id^=alt-][id$=-name-weight]").prop('checked', default_name_weight);
				$("[id^=alt-][id$=-name-style]").prop('checked', default_name_style);
				$("[id^=alt-][id$=-name-color]").val(default_name_color);

				$("[id^=alt-][id$=-info-transform]").prop('checked', default_info_transform);
				$("[id^=alt-][id$=-info-weight]").prop('checked', default_info_weight);
				$("[id^=alt-][id$=-info-style]").prop('checked', default_info_style);
				$("[id^=alt-][id$=-info-color]").val(default_info_color);
			}


			var bc = new BroadcastChannel('obs-lower-thirds-channel'); //Send to browser source
			var bcr = new BroadcastChannel('obs-lower-thirds-channel2'); //Receives from the source
			var bcf = new BroadcastChannel('obs-lower-thirds-fonts'); //Send custom fonts
					

			var slotDeleted = false;

			var new_font_to_send;

			var alt_1_active_time_monitor;
			var alt_1_inactive_time_monitor;
			var alt_2_active_time_monitor;
			var alt_2_inactive_time_monitor;
			var alt_3_active_time_monitor;
			var alt_3_inactive_time_monitor;
			var alt_4_active_time_monitor;
			var alt_4_inactive_time_monitor;


			var alt_1_autoload;
			var alt_1_jumpnext;
			var alt_2_autoload;
			var alt_2_jumpnext;
			var alt_3_autoload;
			var alt_3_jumpnext;
			var alt_4_autoload;
			var alt_4_jumpnext;

			var alt_1_autotrigger;
			var alt_2_autotrigger;
			var alt_3_autotrigger;
			var alt_4_autotrigger;

			var global_oneshot;
			var alt_1_oneshot;
			var alt_2_oneshot;
			var alt_3_oneshot;
			var alt_4_oneshot;

			var global_lock_active;
			var alt_1_lock_active;
			var alt_2_lock_active;
			var alt_3_lock_active;
			var alt_4_lock_active;

			var alt_1_logo_default = "../logos/logo_1.png";
			var alt_2_logo_default = "../logos/logo_2.png";
			var alt_3_logo_default = "../logos/logo_3.png";
			var alt_4_logo_default = "../logos/logo_4.png";

			var alt_1_style = default_style;
			var alt_1_inverse_ratio = default_inverse_ratio;
			var alt_1_name_size;
			var alt_1_info_size;
			var alt_1_size;
			var alt_1_line_spacing;
			var alt_1_margin_h;
			var alt_1_margin_v;
			var alt_1_shadows;
			var alt_1_font;
			var alt_1_logo_size;
			var alt_1_shadow_amount;
			var alt_1_corners;
			var alt_1_border_thickness_amount;

			var alt_1_corners;
			var alt_1_border_thickness_amount;

			var alt_2_style = default_style;
			var alt_2_inverse_ratio = default_inverse_ratio;
			var alt_2_name_size;
			var alt_2_info_size;
			var alt_2_size;
			var alt_2_line_spacing;
			var alt_2_margin_h;
			var alt_2_margin_v;
			var alt_2_shadows;
			var alt_2_font;
			var alt_2_logo_size;
			var alt_2_shadow_amount;
			var alt_2_corners;
			var alt_2_border_thickness_amount;

			var alt_3_style = default_style;
			var alt_3_inverse_ratio = default_inverse_ratio;
			var alt_3_name_size;
			var alt_3_info_size;
			var alt_3_size;
			var alt_3_line_spacing;
			var alt_3_margin_h;
			var alt_3_margin_v;
			var alt_3_shadows;
			var alt_3_font;
			var alt_3_logo_size;
			var alt_3_shadow_amount;
			var alt_3_corners;
			var alt_3_border_thickness_amount;

			var alt_4_style = default_style;
			var alt_4_inverse_ratio = default_inverse_ratio;
			var alt_4_name_size;
			var alt_4_info_size;
			var alt_4_size;
			var alt_4_line_spacing;
			var alt_4_margin_h;
			var alt_4_margin_v;
			var alt_4_shadows;
			var alt_4_font;
			var alt_4_logo_size;
			var alt_4_shadow_amount;
			var alt_4_corners;
			var alt_4_border_thickness_amount;

			var hotkeyMasterSwitchOld = hotkeyMasterSwitch;
			var hotkeySwitch1Old = hotkeySwitch1;
			var hotkeySwitch2Old = hotkeySwitch2;
			var hotkeySwitch3Old = hotkeySwitch3;
			var hotkeySwitch4Old = hotkeySwitch4;

			var hotkeyAlt1Slot1Old = hotkeyAlt1Slot1;
			var hotkeyAlt1Slot2Old = hotkeyAlt1Slot2;
			var hotkeyAlt1Slot3Old = hotkeyAlt1Slot3;
			var hotkeyAlt1Slot4Old = hotkeyAlt1Slot4;
			var hotkeyAlt1Slot5Old = hotkeyAlt1Slot5;
			var hotkeyAlt1Slot6Old = hotkeyAlt1Slot6;
			var hotkeyAlt1Slot7Old = hotkeyAlt1Slot7;
			var hotkeyAlt1Slot8Old = hotkeyAlt1Slot8;
			var hotkeyAlt1Slot9Old = hotkeyAlt1Slot9;
			var hotkeyAlt1Slot10Old = hotkeyAlt1Slot10;

			var hotkeyAlt2Slot1Old = hotkeyAlt2Slot1;
			var hotkeyAlt2Slot2Old = hotkeyAlt2Slot2;
			var hotkeyAlt2Slot3Old = hotkeyAlt2Slot3;
			var hotkeyAlt2Slot4Old = hotkeyAlt2Slot4;
			var hotkeyAlt2Slot5Old = hotkeyAlt2Slot5;
			var hotkeyAlt2Slot6Old = hotkeyAlt2Slot6;
			var hotkeyAlt2Slot7Old = hotkeyAlt2Slot7;
			var hotkeyAlt2Slot8Old = hotkeyAlt2Slot8;
			var hotkeyAlt2Slot9Old = hotkeyAlt2Slot9;
			var hotkeyAlt2Slot10Old = hotkeyAlt2Slot10;			
			
			var hotkeyAlt3Slot1Old = hotkeyAlt3Slot1;
			var hotkeyAlt3Slot2Old = hotkeyAlt3Slot2;
			var hotkeyAlt3Slot3Old = hotkeyAlt3Slot3;
			var hotkeyAlt3Slot4Old = hotkeyAlt3Slot4;
			var hotkeyAlt3Slot5Old = hotkeyAlt3Slot5;
			var hotkeyAlt3Slot6Old = hotkeyAlt3Slot6;
			var hotkeyAlt3Slot7Old = hotkeyAlt3Slot7;
			var hotkeyAlt3Slot8Old = hotkeyAlt3Slot8;
			var hotkeyAlt3Slot9Old = hotkeyAlt3Slot9;
			var hotkeyAlt3Slot10Old = hotkeyAlt3Slot10;

			var hotkeyAlt4Slot1Old = hotkeyAlt4Slot1;
			var hotkeyAlt4Slot2Old = hotkeyAlt4Slot2;
			var hotkeyAlt4Slot3Old = hotkeyAlt4Slot3;
			var hotkeyAlt4Slot4Old = hotkeyAlt4Slot4;
			var hotkeyAlt4Slot5Old = hotkeyAlt4Slot5;
			var hotkeyAlt4Slot6Old = hotkeyAlt4Slot6;
			var hotkeyAlt4Slot7Old = hotkeyAlt4Slot7;
			var hotkeyAlt4Slot8Old = hotkeyAlt4Slot8;
			var hotkeyAlt4Slot9Old = hotkeyAlt4Slot9;
			var hotkeyAlt4Slot10Old = hotkeyAlt4Slot10;

			var alt_1_turnoff = false;
			var alt_2_turnoff = false;
			var alt_3_turnoff = false;
			var alt_4_turnoff = false;

			var acc = document.getElementsByClassName("accordion");
			for (var i = 0; i < acc.length; i++) {
				acc[i].onclick = function () {
					this.classList.toggle("active");
					var hidable = this.nextElementSibling;
					if (hidable.style.maxHeight) {
						hidable.style.maxHeight = null;
					} else {
						hidable.style.maxHeight = hidable.scrollHeight + "px";
					}
				}
			}

			var more = document.getElementsByClassName("more");
			for (var i = 0; i < more.length; i++) {
				more[i].onclick = function () {
					this.classList.toggle("active");
					var hideMore = this.nextElementSibling;
					if (hideMore.style.maxHeight) {
						hideMore.style.maxHeight = null;
					} else {
						hideMore.style.maxHeight = hideMore.scrollHeight + "px";

						//Increase the heigh of the main settings panel
						var hidable = document.getElementById("global-configuration").style.maxHeight;
						hidable = Number(hidable.replace(/px/g, ''));
						document.getElementById("global-configuration").style.maxHeight = hidable + hideMore.scrollHeight + "px";
					}
				}
			}

			function updateMoreMaxHeight() {
				const element = document.getElementsByClassName("more")[0];
				if ($('#more-settings').css('max-height') != "0px") {
					var hideMore = element.nextElementSibling;
					hideMore.style.maxHeight = hideMore.scrollHeight + "px";

					//Increase the heigh of the main settings panel
					var hidable = document.getElementById("global-configuration").style.maxHeight;
					hidable = Number(hidable.replace(/px/g, ''));
					document.getElementById("global-configuration").style.maxHeight = hidable + hideMore.scrollHeight + "px";
				}
			}

			////////////////////

			//Load the theme style
			var theme = localStorage.getItem('theme') ? localStorage.getItem('theme') : 'dark';
			$('head').append('<link rel="stylesheet" href="../common/css/themes/' + theme + '/theme.css"/>');

			function changeTheme(newTheme) {
				$('link[href="../common/css/themes/' + theme + '/theme.css"]').remove();
				var head= document.getElementsByTagName('head')[0];
				var link= document.createElement('link');
				link.rel= "stylesheet";
				link.href= "../common/css/themes/" + newTheme + "/theme.css";
				head.appendChild(link);
				theme = newTheme;
			}
		
			//Theme options to settings
			var themes = ['acri', 'dark', 'rachni'];

			$.each(themes, function(i) {
				var $selected = '';

				if(themes[i] == theme) {
					$selected = 'selected';
				}

				$('#alt-main-config-content #theme').append('<option name="' + themes[i] + '"' + $selected + '>' + themes[i] + '</option>');
			});

			//////////////////

			//Font options to settings
			var fontlist_names = ["'Open Sans', sans-serif", "'Poppins', sans-serif", "'Raleway', sans-serif", "'Anonymous Pro', monospace", "'Patua One', cursive", "'Abril Fatface', cursive", "'Lora', serif", "'Cookie', cursive", "'Oleo Script', cursive", "'Kalam', cursive", "'Fredoka One', cursive"];
			var fontlist_urls = [];


			//Load the list of stored Custom Fonts in the Main settings
		    if(localStorage.getItem("customFonts") == null){
				customFonts = 0;
			} else {
				customFonts = Number(localStorage.getItem("customFonts"));
			}
	
			for (var i = 0; i < customFonts; i++) {
				font_number = i + 1;
				$('#custom-font-list ul').append('<li><div class="font-name-added slot-storable" id="font-name-added-' + font_number + '"></div><div class="font-url-added slot-storable" id="font-url-added-' + font_number + '"></div><div class="delete-font"><div class="icon icon-trash"></div></div></li>');
			}

			//On load
			function updateCustomFontList() {			
					//Update the fontlist array (name and urls)
					$('#custom-font-list ul li').each(function(){
						var font_name_to_add = $(this).children('.font-name-added').text();
						var font_url_to_add = $(this).children('.font-url-added').text();
						fontlist_names.push(font_name_to_add);
						fontlist_urls.push(font_url_to_add);
					});				

					//Refresh the font list
					$.each(fontlist_names, function(i) {

						var fontlist_shortname = fontlist_names[i].substring(
							fontlist_names[i].lastIndexOf("*'") + 2, 
							fontlist_names[i].lastIndexOf("',")
						);

						$('.font-storable').each(function(){
							$(this).append('<option value="' + fontlist_names[i] + '">' + fontlist_shortname + '</option>');
						});

					});

					//Load the font stored in the localstorage
					$('.font-storable').each(function(){
						var id = $(this).attr('id');
						if(localStorage.getItem(id)){
							$("#" + id).val(localStorage.getItem(id));
						}
						//If option doesn't exist check the first
						if(fontlist_names.includes(localStorage.getItem(id)) == false){
							$("#" + id).val("'Open Sans', sans-serif");
						}
    				});

					//Call function to send to the source
					// function_send_font();

			}

			//Add Custom Fonts to the panel Selectors
			function AddNewFont(font_name, font_url) {
				//Add to array
				fontlist_names.push(font_name);
				fontlist_urls.push(font_url);

				var font_name_shortname = font_name.substring(
					font_name.lastIndexOf("*'") + 2, 
					font_name.lastIndexOf("',")
				);

				$('.font-storable').each(function(){
					$(this).append('<option value="' + font_name + '">' + font_name_shortname + '</option>');
				});

				function_send_font();

			}

			//Remove Custom Fonts to the panel Selectors
			function removeFont(font_name, font_url) {
				//Remove from the array
				fontlist_names = jQuery.grep(fontlist_names, function(value) {
				return value != font_name;
				});
				fontlist_urls = jQuery.grep(fontlist_urls, function(value) {
				return value != font_url;
				});

				var font_name_shortname = font_name.substring(
					font_name.lastIndexOf("*'") + 2, 
					font_name.lastIndexOf("',")
				);
				
				$('.font-storable').each(function(){
					$(this).children('option[value="' + font_name + '"]').remove();
				});
			}			


			//Add new Font
			$('#add-new-font').click(function() {
				var howMany = $('#custom-font-list ul li').length;
				howMany += 1;
				var font_name_to_add = $('#new-font-name').val();
				var font_url_to_add = $('#new-font-url').val();
				if (font_name_to_add && font_url_to_add){
					$("#new-font-name").val("");
					$("#new-font-url").val("");

					//Clean font name to add whit no "font-family" or ";"
					var font_name_to_add_clean = font_name_to_add.replace("font-family: ", "");
					var font_name_to_add_clean = font_name_to_add_clean.replace(";", "");

					//Clean font name to add whit no "font-family" or ";"
					var font_url_to_add_clean = font_url_to_add.replace("<style> ", "");
					var font_url_to_add_clean = font_url_to_add_clean.replace(" </style>", "");


					$('#custom-font-list ul').append('<li><div class="font-name-added slot-storable" id="font-name-added-' + howMany + '">' + font_name_to_add_clean + '</div><div class="font-url-added slot-storable" id="font-url-added-' + howMany + '">' + font_url_to_add_clean + '</div><div class="delete-font"><div class="icon icon-trash"></div></div></li>');
					AddNewFont(font_name_to_add_clean, font_url_to_add_clean);

					//Increase the heigh of the main settings panel
					var hidable = document.getElementById("global-configuration").style.maxHeight;
					hidable = Number(hidable.replace(/px/g,''));
					document.getElementById("global-configuration").style.maxHeight = hidable + 28 + "px";
					document.getElementById("more-settings").style.maxHeight = hidable + 28 + "px";

					//Update the amount of custom fonts (+1)
					id = "customFonts";
					localStorage.setItem(id, howMany);
					
					//Save localStorage
					localStorage.setItem('font-name-added-' + howMany, font_name_to_add_clean);
					localStorage.setItem('font-url-added-' + howMany, font_url_to_add_clean);
				}
			});

			//Remove Font
			$('#custom-font-list ul').on('click', 'li > .delete-font', function(e) {
				var howMany = $('#custom-font-list ul li').length;
				howMany -= 1;

				var font_name_to_remove = $(this).closest('li').children('.font-name-added').text();
				var font_url_to_remove = $(this).closest('li').children('.font-url-added').text();

				$(this).closest('li').remove();
				
				removeFont(font_name_to_remove, font_url_to_remove);

				//Update the amount of custom fonts (-1)
				id = "customFonts";
				localStorage.setItem(id, howMany);

				//Clean localStorage of fonts that are no longer used.
				for (var i = 20; i > howMany; i--) {
					localStorage.removeItem('font-name-added-' + i);
					localStorage.removeItem('font-url-added-' + i);
				}
			});

			//<Rename> de IDs of Font to correct store
			$('#custom-font-list ul').on('click', 'li', function(e) {
				$('#custom-font-list ul li').each(function(i) {
					i++;
					var font_name_added = 'font-name-added-' + i;
					var font_url_added = 'font-url-added-' + i;

					$(this).children('.font-name-added').attr('id', font_name_added);
					$(this).children('.font-url-added').attr('id', font_url_added);

					localStorage.setItem(font_name_added, $('#' + font_name_added).text());
					localStorage.setItem(font_url_added, $('#' + font_url_added).text());
				});
			});


			//////////////////

		    $( "#sortable" ).sortable({handle: ".drag-handle"});
		    $( "#sortable" ).on("sortupdate",function( event, ui ) {
		        var sorted = $( this ).sortable( "serialize");
		        localStorage.setItem('sorted', sorted);
		    });
		    
		    if(localStorage.getItem("sorted") !== null){
		      var arrValuesForOrder = localStorage.getItem('sorted').substring(6).split("&alt[]=");
		      var $ul = $("#sortable");
		      $items = $("#sortable").children();

		      // loop backwards so you can just prepend elements in the list
		      // instead of trying to place them at a specific position
		      for (var i = arrValuesForOrder.length - 1; i >= 0; i--) {
		        // index is zero-based to you have to remove one from the values in your array
		        $ul.prepend( $items.get((arrValuesForOrder[i] - 1)));
		      }
		    }

		    $( "#sortable" ).disableSelection();
		    /*
		    //Reset order button
		    $("#clear").click(function(){
		      window.localStorage.removeItem("sorted");
		    });
			*/			

		    ////////////////////

			var oriVal;
			$(".renameable").on('dblclick', function () {
				var titleDiv = $(this);
				if (titleDiv.text()){
					oriVal = titleDiv.text();
				}
				titleDiv.text("");
				$("<input type='text' value='"+ oriVal + "' maxlength='40'>").appendTo(this).focus().change(function() {
					titleDiv.text($(this).val());
				});

			});

			$(".renameable").on('focusout', '> input', function () {
				var newAltTitle = $(this);
				// newAltTitle.parent().text(newAltTitle.val() || oriVal);
				newAltTitle.remove();
			});

			////////////////////

			function checkSwitches (){
				//Check Master Switch
				if (document.getElementById("lower-thirds-masterswitch").checked) {
					masterSwitchIsOn = true;
					document.getElementById("alt-main-config-content").classList.add("active");
				} else {
					masterSwitchIsOn = false;
					document.getElementById("alt-main-config-content").classList.remove("active");
				}

				//Check switches and blue and red lights in the background to see active and inactive times
				if (masterSwitchIsOn) {
					//When the Main Switch is ON the lower thirds can be Active, Inactive or OFF.
					//Switch 1
					if (document.getElementById("lower-thirds-switch1").checked){
						if (alt_1_active_time_monitor >= 0 && alt_1_inactive_time_monitor == 0 && alt_1_name && alt_1_info){
							document.getElementById("bottom-left-config-content").classList.remove("inactive");
							document.getElementById("bottom-left-config-content").classList.add("active");
							alt_1_jumpnext = true;
						} else {
							document.getElementById("bottom-left-config-content").classList.remove("active");
							document.getElementById("bottom-left-config-content").classList.add("inactive");
							//check if autoload is active and jump to next slot
							if (alt_1_autoload && alt_1_jumpnext) {
								alt_1_jumpnext = false;
								jumpNextSlot("#bottom-left-memory-slots", "#bottom-left-name", "#bottom-left-value", "#bottom-left-logo-preview", alt_1_waiting_time);
							}
						}
					} else {
						document.getElementById("bottom-left-config-content").className = '';
						if (alt_1_turnoff && alt_1_autoload && alt_1_jumpnext) {
							alt_1_jumpnext = false;
							jumpNextSlot("#bottom-left-memory-slots", "#bottom-left-name", "#bottom-left-value", "#bottom-left-logo-preview", alt_1_waiting_time);
						}
					}

					//Switch 2
					if (document.getElementById("lower-thirds-switch2").checked){
						if (alt_2_active_time_monitor >= 0 && alt_2_inactive_time_monitor == 0 && alt_2_name && alt_2_info){
							document.getElementById("bottom-right-config-content").classList.remove("inactive");
							document.getElementById("bottom-right-config-content").classList.add("active");
							alt_2_jumpnext = true;
						} else {
							document.getElementById("bottom-right-config-content").classList.remove("active");
							document.getElementById("bottom-right-config-content").classList.add("inactive");
							//check if autoload is active and jump to next slot
							if (alt_2_autoload && alt_2_jumpnext) {
								alt_2_jumpnext = false;
								jumpNextSlot("#bottom-right-memory-slots", "#bottom-right-name", "#bottom-right-value", "#bottom-right-logo-preview", alt_2_waiting_time);
							}
						}
					} else {
						document.getElementById("bottom-right-config-content").className = '';
					}

					//Switch 3
					if (document.getElementById("lower-thirds-switch3").checked){
						if (alt_3_active_time_monitor >= 0 && alt_3_inactive_time_monitor == 0 && alt_3_name && alt_3_info){
							document.getElementById("top-left-config-content").classList.remove("inactive");
							document.getElementById("top-left-config-content").classList.add("active");
							alt_3_jumpnext = true;
						} else {
							document.getElementById("top-left-config-content").classList.remove("active");
							document.getElementById("top-left-config-content").classList.add("inactive");
							//check if autoload is active and jump to next slot
							if (alt_3_autoload && alt_3_jumpnext) {
								alt_3_jumpnext = false;
								jumpNextSlot("#top-left-memory-slots", "#top-left-name", "#top-left-value", "#top-left-logo-preview", alt_3_waiting_time);
							}
						}
					} else {
						document.getElementById("top-left-config-content").className = '';
					}

					//Switch 4
					if (document.getElementById("lower-thirds-switch4").checked){
						if (alt_4_active_time_monitor >= 0 && alt_4_inactive_time_monitor == 0 && alt_4_name && alt_4_info){
							document.getElementById("top-right-config-content").classList.remove("inactive");
							document.getElementById("top-right-config-content").classList.add("active");
							alt_4_jumpnext = true;
						} else {
							document.getElementById("top-right-config-content").classList.remove("active");
							document.getElementById("top-right-config-content").classList.add("inactive");
							//check if autoload is active and jump to next slot
							if (alt_4_autoload && alt_4_jumpnext) {
								alt_4_jumpnext = false;
								jumpNextSlot("#top-right-memory-slots", "#top-right-name", "#top-right-value", "#top-right-logo-preview", alt_4_waiting_time);
							}
						}
					} else {
						document.getElementById("top-right-config-content").className = '';
					}

				} else {
					//When the Main Switch is OFF all the Lower Thirds area Inactives or OFF.
					//Switch 1
					if (document.getElementById("lower-thirds-switch1").checked) {
						document.getElementById("bottom-left-config-content").classList.add("inactive");
						document.getElementById("bottom-left-config-content").classList.remove("active");
					} else {
						document.getElementById("bottom-left-config-content").className = '';
					}

					//Switch 2
					if (document.getElementById("lower-thirds-switch2").checked) {
						document.getElementById("bottom-right-config-content").classList.add("inactive");
						document.getElementById("bottom-right-config-content").classList.remove("active");
					} else {
						document.getElementById("bottom-right-config-content").className = '';
					}

					//Switch 3
					if (document.getElementById("lower-thirds-switch3").checked) {
						document.getElementById("top-left-config-content").classList.add("inactive");
						document.getElementById("top-left-config-content").classList.remove("active");
					} else {
						document.getElementById("top-left-config-content").className = '';
					}

					//Switch 4
					if (document.getElementById("lower-thirds-switch4").checked) {
						document.getElementById("top-right-config-content").classList.add("inactive");
						document.getElementById("top-right-config-content").classList.remove("active");
					} else {
						document.getElementById("top-right-config-content").className = '';
					}
				}
			}

			////////////////////

			//Reload the hotjeys.js file updated by the LUA script
			function updateHotkeys() {
			    src = '../common/js/hotkeys.js';
			    $('script[src="' + src + '"]').remove();
			    var head= document.getElementsByTagName('head')[0];
		    	var script= document.createElement('script');
		    	script.src= src;
		    	head.appendChild(script);
			}

			//Toggle the switches if a hotkey is pressed
			function checkHotkeys (){
				if (hotkeyMasterSwitch != hotkeyMasterSwitchOld){
					if (document.getElementById("lower-thirds-masterswitch").checked) {
						$('#lower-thirds-masterswitch').prop('checked', false).change();
		            }
		            else {
						$('#lower-thirds-masterswitch').prop('checked', true).change();
		            }
					hotkeyMasterSwitchOld = hotkeyMasterSwitch;
				}

				if (hotkeySwitch1 != hotkeySwitch1Old){
					if (document.getElementById("lower-thirds-switch1").checked) {
						$('#lower-thirds-switch1').prop('checked', false).change();
					}
					else {
						$('#lower-thirds-switch1').prop('checked', true).change();
					}
					hotkeySwitch1Old = hotkeySwitch1;
				}

				if (hotkeySwitch2 != hotkeySwitch2Old){
					if (document.getElementById("lower-thirds-switch2").checked) {
						$('#lower-thirds-switch2').prop('checked', false).change();
					}
					else {
						$('#lower-thirds-switch2').prop('checked', true).change();
					}
					hotkeySwitch2Old = hotkeySwitch2;
				}

				if (hotkeySwitch3 != hotkeySwitch3Old){
					if (document.getElementById("lower-thirds-switch3").checked) {
						$('#lower-thirds-switch3').prop('checked', false).change();
					}
					else {
						$('#lower-thirds-switch3').prop('checked', true).change();
					}
					hotkeySwitch3Old = hotkeySwitch3;
				}
				if (hotkeySwitch4 != hotkeySwitch4Old){
					if (document.getElementById("lower-thirds-switch4").checked) {
						$('#lower-thirds-switch4').prop('checked', false).change();
					}
					else {
						$('#lower-thirds-switch4').prop('checked', true).change();
					}
					hotkeySwitch4Old = hotkeySwitch4;
				}

				//Memory Slots triggers LT1
				if (hotkeyAlt1Slot1 != hotkeyAlt1Slot1Old) {
					if ($("#bottom-left-name-1").text() && $("#bottom-left-value-1").text()){
						loadSlot("#bottom-left-name", "#bottom-left-value", "#bottom-left-logo-preview", $("#bottom-left-name-1").text(), $("#bottom-left-value-1").text(), $("#bottom-left-logo-1").text(), 0);
					}
					hotkeyAlt1Slot1Old = hotkeyAlt1Slot1;
				}
				if (hotkeyAlt1Slot2 != hotkeyAlt1Slot2Old) {
					loadSlot("#bottom-left-name", "#bottom-left-value", "#bottom-left-logo-preview", $("#bottom-left-name-2").text(), $("#bottom-left-value-2").text(), $("#bottom-left-logo-2").text(), 0);
					hotkeyAlt1Slot2Old = hotkeyAlt1Slot2;
				}
				if (hotkeyAlt1Slot3 != hotkeyAlt1Slot3Old) {
					loadSlot("#bottom-left-name", "#bottom-left-value", "#bottom-left-logo-preview", $("#bottom-left-name-3").text(), $("#bottom-left-value-3").text(), $("#bottom-left-logo-3").text(), 0);
					hotkeyAlt1Slot3Old = hotkeyAlt1Slot3;
				}
				if (hotkeyAlt1Slot4 != hotkeyAlt1Slot4Old) {
					loadSlot("#bottom-left-name", "#bottom-left-value", "#bottom-left-logo-preview", $("#bottom-left-name-4").text(), $("#bottom-left-value-4").text(), $("#bottom-left-logo-4").text(), 0);
					hotkeyAlt1Slot4Old = hotkeyAlt1Slot4;
				}
				if (hotkeyAlt1Slot5 != hotkeyAlt1Slot5Old) {
					loadSlot("#bottom-left-name", "#bottom-left-value", "#bottom-left-logo-preview", $("#bottom-left-name-5").text(), $("#bottom-left-value-5").text(), $("#bottom-left-logo-5").text(), 0);
					hotkeyAlt1Slot5Old = hotkeyAlt1Slot5;
				}
				if (hotkeyAlt1Slot6 != hotkeyAlt1Slot6Old) {
					loadSlot("#bottom-left-name", "#bottom-left-value", "#bottom-left-logo-preview", $("#bottom-left-name-6").text(), $("#bottom-left-value-6").text(), $("#bottom-left-logo-6").text(), 0);
					hotkeyAlt1Slot6Old = hotkeyAlt1Slot6;
				}
				if (hotkeyAlt1Slot7 != hotkeyAlt1Slot7Old) {
					loadSlot("#bottom-left-name", "#bottom-left-value", "#bottom-left-logo-preview", $("#bottom-left-name-7").text(), $("#bottom-left-value-7").text(), $("#bottom-left-logo-7").text(), 0);
					hotkeyAlt1Slot7Old = hotkeyAlt1Slot7;
				}
				if (hotkeyAlt1Slot8 != hotkeyAlt1Slot8Old) {
					loadSlot("#bottom-left-name", "#bottom-left-value", "#bottom-left-logo-preview", $("#bottom-left-name-8").text(), $("#bottom-left-value-8").text(), $("#bottom-left-logo-8").text(), 0);
					hotkeyAlt1Slot8Old = hotkeyAlt1Slot8;
				}
				if (hotkeyAlt1Slot9 != hotkeyAlt1Slot9Old) {
					loadSlot("#bottom-left-name", "#bottom-left-value", "#bottom-left-logo-preview", $("#bottom-left-name-9").text(), $("#bottom-left-value-9").text(), $("#bottom-left-logo-9").text(), 0);
					hotkeyAlt1Slot9Old = hotkeyAlt1Slot9;
				}
				if (hotkeyAlt1Slot10 != hotkeyAlt1Slot10Old) {
					loadSlot("#bottom-left-name", "#bottom-left-value", "#bottom-left-logo-preview", $("#bottom-left-name-10").text(), $("#bottom-left-value-10").text(), $("#bottom-left-logo-10").text(), 0);
					hotkeyAlt1Slot10Old = hotkeyAlt1Slot10;
				}

				//Memory Slots triggers LT2
				if (hotkeyAlt2Slot1 != hotkeyAlt2Slot1Old) {
					loadSlot("#bottom-right-name", "#bottom-right-value", "#bottom-right-logo-preview", $("#bottom-right-name-1").text(), $("#bottom-right-value-1").text(), $("#bottom-right-logo-1").text(), 0);
					hotkeyAlt2Slot1Old = hotkeyAlt2Slot1;
				}
				if (hotkeyAlt2Slot2 != hotkeyAlt2Slot2Old) {
					loadSlot("#bottom-right-name", "#bottom-right-value", "#bottom-right-logo-preview", $("#bottom-right-name-2").text(), $("#bottom-right-value-2").text(), $("#bottom-right-logo-2").text(), 0);
					hotkeyAlt2Slot2Old = hotkeyAlt2Slot2;
				}
				if (hotkeyAlt2Slot3 != hotkeyAlt2Slot3Old) {
					loadSlot("#bottom-right-name", "#bottom-right-value", "#bottom-right-logo-preview", $("#bottom-right-name-3").text(), $("#bottom-right-value-3").text(), $("#bottom-right-logo-3").text(), 0);
					hotkeyAlt2Slot3Old = hotkeyAlt2Slot3;
				}
				if (hotkeyAlt2Slot4 != hotkeyAlt2Slot4Old) {
					loadSlot("#bottom-right-name", "#bottom-right-value", "#bottom-right-logo-preview", $("#bottom-right-name-4").text(), $("#bottom-right-value-4").text(), $("#bottom-right-logo-4").text(), 0);
					hotkeyAlt2Slot4Old = hotkeyAlt2Slot4;
				}
				if (hotkeyAlt2Slot5 != hotkeyAlt2Slot5Old) {
					loadSlot("#bottom-right-name", "#bottom-right-value", "#bottom-right-logo-preview", $("#bottom-right-name-5").text(), $("#bottom-right-value-5").text(), $("#bottom-right-logo-5").text(), 0);
					hotkeyAlt2Slot5Old = hotkeyAlt2Slot5;
				}
				if (hotkeyAlt2Slot6 != hotkeyAlt2Slot6Old) {
					loadSlot("#bottom-right-name", "#bottom-right-value", "#bottom-right-logo-preview", $("#bottom-right-name-6").text(), $("#bottom-right-value-6").text(), $("#bottom-right-logo-6").text(), 0);
					hotkeyAlt2Slot6Old = hotkeyAlt2Slot6;
				}
				if (hotkeyAlt2Slot7 != hotkeyAlt2Slot7Old) {
					loadSlot("#bottom-right-name", "#bottom-right-value", "#bottom-right-logo-preview", $("#bottom-right-name-7").text(), $("#bottom-right-value-7").text(), $("#bottom-right-logo-7").text(), 0);
					hotkeyAlt2Slot7Old = hotkeyAlt2Slot7;
				}
				if (hotkeyAlt2Slot8 != hotkeyAlt2Slot8Old) {
					loadSlot("#bottom-right-name", "#bottom-right-value", "#bottom-right-logo-preview", $("#bottom-right-name-8").text(), $("#bottom-right-value-8").text(), $("#bottom-right-logo-8").text(), 0);
					hotkeyAlt2Slot8Old = hotkeyAlt2Slot8;
				}
				if (hotkeyAlt2Slot9 != hotkeyAlt2Slot9Old) {
					loadSlot("#bottom-right-name", "#bottom-right-value", "#bottom-right-logo-preview", $("#bottom-right-name-9").text(), $("#bottom-right-value-9").text(), $("#bottom-right-logo-9").text(), 0);
					hotkeyAlt2Slot9Old = hotkeyAlt2Slot9;
				}
				if (hotkeyAlt2Slot10 != hotkeyAlt2Slot10Old) {
					loadSlot("#bottom-right-name", "#bottom-right-value", "#bottom-right-logo-preview", $("#bottom-right-name-10").text(), $("#bottom-right-value-10").text(), $("#bottom-right-logo-10").text(), 0);
					hotkeyAlt2Slot10Old = hotkeyAlt2Slot10;
				}

				//Memory Slots triggers LT3
				if (hotkeyAlt3Slot1 != hotkeyAlt3Slot1Old) {
					loadSlot("#top-left-name", "#top-left-value", "#top-left-logo-preview", $("#top-left-name-1").text(), $("#top-left-value-1").text(), $("#top-left-logo-1").text(), 0);
					hotkeyAlt3Slot1Old = hotkeyAlt3Slot1;
				}
				if (hotkeyAlt3Slot2 != hotkeyAlt3Slot2Old) {
					loadSlot("#top-left-name", "#top-left-value", "#top-left-logo-preview", $("#top-left-name-2").text(), $("#top-left-value-2").text(), $("#top-left-logo-2").text(), 0);
					hotkeyAlt3Slot2Old = hotkeyAlt3Slot2;
				}
				if (hotkeyAlt3Slot3 != hotkeyAlt3Slot3Old) {
					loadSlot("#top-left-name", "#top-left-value", "#top-left-logo-preview", $("#top-left-name-3").text(), $("#top-left-value-3").text(), $("#top-left-logo-3").text(), 0);
					hotkeyAlt3Slot3Old = hotkeyAlt3Slot3;
				}
				if (hotkeyAlt3Slot4 != hotkeyAlt3Slot4Old) {
					loadSlot("#top-left-name", "#top-left-value", "#top-left-logo-preview", $("#top-left-name-4").text(), $("#top-left-value-4").text(), $("#top-left-logo-4").text(), 0);
					hotkeyAlt3Slot4Old = hotkeyAlt3Slot4;
				}
				if (hotkeyAlt3Slot5 != hotkeyAlt3Slot5Old) {
					loadSlot("#top-left-name", "#top-left-value", "#top-left-logo-preview", $("#top-left-name-5").text(), $("#top-left-value-5").text(), $("#top-left-logo-5").text(), 0);
					hotkeyAlt3Slot5Old = hotkeyAlt3Slot5;
				}
				if (hotkeyAlt3Slot6 != hotkeyAlt3Slot6Old) {
					loadSlot("#top-left-name", "#top-left-value", "#top-left-logo-preview", $("#top-left-name-6").text(), $("#top-left-value-6").text(), $("#top-left-logo-6").text(), 0);
					hotkeyAlt3Slot6Old = hotkeyAlt3Slot6;
				}
				if (hotkeyAlt3Slot7 != hotkeyAlt3Slot7Old) {
					loadSlot("#top-left-name", "#top-left-value", "#top-left-logo-preview", $("#top-left-name-7").text(), $("#top-left-value-7").text(), $("#top-left-logo-7").text(), 0);
					hotkeyAlt3Slot7Old = hotkeyAlt3Slot7;
				}
				if (hotkeyAlt3Slot8 != hotkeyAlt3Slot8Old) {
					loadSlot("#top-left-name", "#top-left-value", "#top-left-logo-preview", $("#top-left-name-8").text(), $("#top-left-value-8").text(), $("#top-left-logo-8").text(), 0);
					hotkeyAlt3Slot8Old = hotkeyAlt3Slot8;
				}
				if (hotkeyAlt3Slot9 != hotkeyAlt3Slot9Old) {
					loadSlot("#top-left-name", "#top-left-value", "#top-left-logo-preview", $("#top-left-name-9").text(), $("#top-left-value-9").text(), $("#top-left-logo-9").text(), 0);
					hotkeyAlt3Slot9Old = hotkeyAlt3Slot9;
				}
				if (hotkeyAlt3Slot10 != hotkeyAlt3Slot10Old) {
					loadSlot("#top-left-name", "#top-left-value", "#top-left-logo-preview", $("#top-left-name-10").text(), $("#top-left-value-10").text(), $("#top-left-logo-10").text(), 0);
					hotkeyAlt3Slot10Old = hotkeyAlt3Slot10;
				}

				//Memory Slots triggers LT4
				if (hotkeyAlt4Slot1 != hotkeyAlt4Slot1Old) {
					loadSlot("#top-right-name", "#top-right-value", "#top-right-logo-preview", $("#top-right-name-1").text(), $("#top-right-value-1").text(), $("#top-right-logo-1").text(), 0);
					hotkeyAlt4Slot1Old = hotkeyAlt4Slot1;
				}
				if (hotkeyAlt4Slot2 != hotkeyAlt4Slot2Old) {
					loadSlot("#top-right-name", "#top-right-value", "#top-right-logo-preview", $("#top-right-name-2").text(), $("#top-right-value-2").text(), $("#top-right-logo-2").text(), 0);
					hotkeyAlt4Slot2Old = hotkeyAlt4Slot2;
				}
				if (hotkeyAlt4Slot3 != hotkeyAlt4Slot3Old) {
					loadSlot("#top-right-name", "#top-right-value", "#top-right-logo-preview", $("#top-right-name-3").text(), $("#top-right-value-3").text(), $("#top-right-logo-3").text(), 0);
					hotkeyAlt4Slot3Old = hotkeyAlt4Slot3;
				}
				if (hotkeyAlt4Slot4 != hotkeyAlt4Slot4Old) {
					loadSlot("#top-right-name", "#top-right-value", "#top-right-logo-preview", $("#top-right-name-4").text(), $("#top-right-value-4").text(), $("#top-right-logo-4").text(), 0);
					hotkeyAlt4Slot4Old = hotkeyAlt4Slot4;
				}
				if (hotkeyAlt4Slot5 != hotkeyAlt4Slot5Old) {
					loadSlot("#top-right-name", "#top-right-value", "#top-right-logo-preview", $("#top-right-name-5").text(), $("#top-right-value-5").text(), $("#top-right-logo-5").text(), 0);
					hotkeyAlt4Slot5Old = hotkeyAlt4Slot5;
				}
				if (hotkeyAlt4Slot6 != hotkeyAlt4Slot6Old) {
					loadSlot("#top-right-name", "#top-right-value", "#top-right-logo-preview", $("#top-right-name-6").text(), $("#top-right-value-6").text(), $("#top-right-logo-6").text(), 0);
					hotkeyAlt4Slot6Old = hotkeyAlt4Slot6;
				}
				if (hotkeyAlt4Slot7 != hotkeyAlt4Slot7Old) {
					loadSlot("#top-right-name", "#top-right-value", "#top-right-logo-preview", $("#top-right-name-7").text(), $("#top-right-value-7").text(), $("#top-right-logo-7").text(), 0);
					hotkeyAlt4Slot7Old = hotkeyAlt4Slot7;
				}
				if (hotkeyAlt4Slot8 != hotkeyAlt4Slot8Old) {
					loadSlot("#top-right-name", "#top-right-value", "#top-right-logo-preview", $("#top-right-name-8").text(), $("#top-right-value-8").text(), $("#top-right-logo-8").text(), 0);
					hotkeyAlt4Slot8Old = hotkeyAlt4Slot8;
				}
				if (hotkeyAlt4Slot9 != hotkeyAlt4Slot9Old) {
					loadSlot("#top-right-name", "#top-right-value", "#top-right-logo-preview", $("#top-right-name-9").text(), $("#top-right-value-9").text(), $("#top-right-logo-9").text(), 0);
					hotkeyAlt4Slot9Old = hotkeyAlt4Slot9;
				}
				if (hotkeyAlt4Slot10 != hotkeyAlt4Slot10Old) {
					loadSlot("#top-right-name", "#top-right-value", "#top-right-logo-preview", $("#top-right-name-10").text(), $("#top-right-value-10").text(), $("#top-right-logo-10").text(), 0);
					hotkeyAlt4Slot10Old = hotkeyAlt4Slot10;
				}

			}

			function openResetPopup() {
				document.getElementById("reset-all").classList.remove("hide");
			}
			function okResetPopup() {
				localStorage.clear(); //To clear data fields
				//loadDefaultValues();
				//Restore logo default (fix missing logos in the reload)
				$('.logo-storable').each(function(){
					var id = $(this).attr('id');
					var value
					if (id == "bottom-left-logo-preview" || id == "bottom-left-logo-default"){
						value = alt_1_logo_default;
					}
					if (id == "bottom-right-logo-preview" || id == "bottom-right-logo-default"){
						value = alt_2_logo_default;
					}
					if (id == "top-left-logo-preview" || id == "top-left-logo-default"){
						value = alt_3_logo_default;
					}
					if (id == "top-right-logo-preview" || id == "top-right-logo-default"){
						value = alt_4_logo_default;
					}
					localStorage.setItem(id, value);
				});

				location.reload();
			}

			function cancelResetPopup() {
				document.getElementById("reset-all").classList.add("hide");
			}

			//Export popup info
			function openExportPopup() {
				document.getElementById("export-data").classList.remove("hide");
			}
			function okExportPopup() {
				document.getElementById("export-data").classList.add("hide");
			}

			//Load new logo image
			function showPreview(element){
				if(element.files.length > 0){
					var src = URL.createObjectURL(element.files[0]);
					var preview = document.getElementById("logo-file-preview");
					document.getElementById("file-preview").classList.remove("no-image");
					preview.src = src;
					preview.style.display = "block";
				}
			}

			function openLogoPopup(logo, logo_default) {
				document.getElementById("select-image").classList.remove("hide");
				document.getElementById("file-preview").classList.remove("no-image");
				var preview_to_change = $("#" + logo).attr("src");
				var preview = document.getElementById("logo-file-preview");
				preview.src = preview_to_change;
				preview.style.display = "block";
				$("#logo-file").val("");
				
				//Config ok button
				$(".btn-ok").attr("onclick", "okLogoPopup('" + logo + "', '" + logo_default + "')");
				
				//Hide remove button if it's a default logo
				if (logo == logo_default){
					$(".btn-remove").attr('style','display: none');
				} else {
					$(".btn-remove").attr('style','display: block');
				}
			}

			//OK button
			function okLogoPopup(logo, logo_default) {
				var src = document.getElementById("logo-file").files[0];
				var popup_preview = $("#logo-file-preview").attr("src");
				var preview = document.getElementById(logo);
				var alt_logo_preview = logo_default.replace("-default", "-preview");

				if(src){
					preview.src = "../logos/" + src.name;
					$(preview).change();
					//Change the lt logo if it use default
					if (logo == logo_default && $("#" + alt_logo_preview).hasClass('default')){
						$("#" + alt_logo_preview).attr("src", "../logos/" + src.name).change();
					}
				} else {
					if (!popup_preview) {
						var alt_logo_default = $("#" + logo_default).attr("src");
						preview.src = alt_logo_default;
						$(preview).change();
					}
				}
				
				document.getElementById("select-image").classList.add("hide");
			}

			//Cancel button
			function cancelLogoPopup() {
				document.getElementById("select-image").classList.add("hide");
			}

			function removeLogoPopup() {
				var preview = document.getElementById("logo-file-preview");
				document.getElementById("file-preview").classList.add("no-image");
				$("#logo-file").val("");
				preview.src = "";
				preview.style.display = "none";
			}

			function checkLogos() {
				$(".alt-logo-preview").each(function(){
					check_logo_id = $(this).attr('id');
					check_default_logo_id = check_logo_id.replace("-preview", "-default");
					check_is_default_logo = ($("#" + check_logo_id).attr("src") == $("#" + check_default_logo_id).attr("src"))? true : false;
					
					if (check_is_default_logo) {
						$("#" + check_logo_id).addClass('default');
					} else {
						$("#" + check_logo_id).removeClass('default');
					}
				});
			}

			//Memory Slots System
			function checkSlots (memory_slot, name, info, logo) {
				$("ul" + memory_slot + " li").each(function(){
					const check_slot_id = $(this).attr('id');
					const check_name_id = $(this).children('.stored-name').attr('id');
					const check_info_id = $(this).children('.stored-info').attr('id');
					const check_logo_id = $(this).children('.stored-logo').attr('id');
					const check_is_default_logo = $(logo).hasClass('default');
					const name_value = $(this).children('.stored-name').text();
					const info_value = $(this).children('.stored-info').text();
					const logo_value = $(this).children('.stored-logo').text();

					let check_slot_id_element = document.getElementById(check_slot_id);

					//If stored data has no logo, set to default
					if (name_value && info_value && !logo_value) {
						$(this).children('.stored-logo').text("default");
					}
					if ($('#' + check_name_id).is(':empty') && $('#' + check_info_id).is(':empty') && $('#' + check_logo_id).is(':empty')){
						check_slot_id_element.classList.remove("stored");
					} else {
						check_slot_id_element.classList.add("stored");
					}
					//Check active slots
					if ($(name).val() == name_value && $(info).val() == info_value && ($(logo).attr("src") == logo_value || (check_is_default_logo && logo_value == "default"))){
						if(name_value && info_value && logo_value){
							check_slot_id_element.classList.add("active-slot");
							check_slot_id_element.classList.remove("next-to-load");
						}
					} else {
						check_slot_id_element.classList.remove("active-slot");
					}

					//Check if it has default logo
					if (logo_value && logo_value != "default"){
						check_slot_id_element.classList.add("custom-logo");
					} else {
						check_slot_id_element.classList.remove("custom-logo");
					}

				});
			}

			function memorySlotsSystem (memory_slot, name, info, logo) {
				let slot_id, name_id, info_id, logo_id, default_logo, is_default_logo;
				$("ul" + memory_slot + " li").mousedown(function(e){
					slot_id = $(this).attr('id');
					name_id = $(this).children('.stored-name').attr('id');
					info_id = $(this).children('.stored-info').attr('id');
					logo_id = $(this).children('.stored-logo').attr('id');
					// name_value = $(this).children('.stored-name').text();
					// info_value = $(this).children('.stored-info').text();
					default_logo = logo.replace("-preview", "-default");
					is_default_logo = ($(logo).attr("src") == $(default_logo).attr("src")) ? true : false;
					clearTimeout(this.downTimer);
					this.downTimer = setTimeout(function() {
						    //Delete
							document.getElementById(slot_id).classList.add("delete");
							$('#' + name_id)[0].innerHTML = "";
							$('#' + info_id)[0].innerHTML = "";
							$('#' + logo_id)[0].innerHTML = "";
							slotDeleted = true;
					}, 600);
				}).mouseup(function(e) {
					clearTimeout(this.downTimer);
				    document.getElementById(slot_id).classList.remove("delete");
				    	if (!slotDeleted){
				    		if ($('#' + name_id).is(':empty') && $('#' + info_id).is(':empty') && $('#' + logo_id).is(':empty')){
								//Save
								const name_to_save = $(name + ":text").val();
								const info_to_save = $(info + ":text").val();
								const logo_to_save = $(logo).attr("src");
								if (name_to_save && info_to_save){
									$('#' + name_id)[0].innerHTML = name_to_save;
									$('#' + info_id)[0].innerHTML = info_to_save;
									if (is_default_logo){
										$('#' + logo_id)[0].innerHTML = "default";
									} else {
										$('#' + logo_id)[0].innerHTML = logo_to_save;
									}
								}
							} else {
								//Load
								const name_to_load = $(this).children('#' + name_id).text();
								const info_to_load = $(this).children('#' + info_id).text();
								const logo_to_load = $(this).children('#' + logo_id).text();
								const defaul_logo_to_load = $(default_logo).attr("src");
								$(name + ":text").val(name_to_load).change();
								$(info + ":text").val(info_to_load).change();
								if (logo_to_load == "default"){
									$(logo).attr("src", defaul_logo_to_load).change();
								} else {
									$(logo).attr("src", logo_to_load).change();
								}

								//Switch ON the panel if the autotrigger is ON
								const slot_number_called = $(this).children('.slot-number').text();
								const auto_trigger = slot_id.replace("-slot-" + slot_number_called, "-autotrigger");
								let alt_switch = slot_id.replace("alt-", "");
								alt_switch = alt_switch.replace("-slot-" + slot_number_called, "");
								if (document.getElementById(auto_trigger).checked  && $("#lower-thirds-switch" + alt_switch).is(':not(:checked)')) {
									$("#lower-thirds-switch" + alt_switch).prop('checked', true).change();
								}
							}
				    	} else {
							slotDeleted = false;
				    	}
				});
			}
			memorySlotsSystem("#bottom-left-memory-slots", "#bottom-left-name", "#bottom-left-value" , "#bottom-left-logo-preview");
			memorySlotsSystem("#bottom-right-memory-slots", "#bottom-right-name", "#bottom-right-value" , "#bottom-right-logo-preview");
			memorySlotsSystem("#top-left-memory-slots", "#top-left-name", "#top-left-value" , "#top-left-logo-preview");
			memorySlotsSystem("#top-right-memory-slots", "#top-right-name", "#top-right-value" , "#top-right-logo-preview");

			//////////////////////////////////////

			function jumpNextSlot(memory_slot, name, info, logo, alt_waiting_time) {
				let find_next = false;
				let find_first = false;
				let first_stored_slot;
				let next_slot_num;
				let to_load = 0;

				const name_loaded = $(name + ":text").val();
				const info_loaded = $(info + ":text").val();
				const logo_loaded = $(logo).attr("src");

				//Find actual and search the next slot to load
				$("ul" + memory_slot + " li").each(function(){
					const name_id = $(this).children('.stored-name').attr('id');
					const info_id = $(this).children('.stored-info').attr('id');
					const logo_id = $(this).children('.stored-logo').attr('id');
					const name_value = $(this).children('.stored-name').text();
					const info_value = $(this).children('.stored-info').text();
					const logo_value = $(this).children('.stored-logo').text();
					const slot_number = Number($(this).children('.slot-number').text());

					const loadedSlot = (name_loaded == name_value && info_loaded == info_value && (logo_loaded == logo_value || $(logo).hasClass(logo_value))) ? true : false;
					const emptySlot = ($('#' + name_id).is(':empty') && $('#' + info_id).is(':empty') && $('#' + logo_id).is(':empty')) ? true : false;

					if(!find_first && !emptySlot) {
						find_first = true;
						first_stored_slot = slot_number;
					}
					if (loadedSlot) {
						find_next = true;
						const loaded_slot_num = slot_number;
						next_slot_num = loaded_slot_num + 1;
					}

					if (find_next && slot_number == next_slot_num && !emptySlot) {
						find_next = false;
						to_load = slot_number;
					}
					if (find_next && (next_slot_num > 10 || emptySlot)) {
						find_next = false;
						to_load = first_stored_slot;
					}
				});

				// Si hay un slot para cargar
				if (to_load && to_load > 0) {
					$("ul" + memory_slot + " li:nth-child("+to_load+")").each(function () {
						const slot_id = ($(this).attr('id'));
						const name_id = $(this).children('.stored-name').attr('id');
						const info_id = $(this).children('.stored-info').attr('id');
						const logo_id = $(this).children('.stored-logo').attr('id');

						const name_to_load = $(this).children('#' + name_id).text();
						const info_to_load = $(this).children('#' + info_id).text();
						const logo_to_load = $(this).children('#' + logo_id).text();

						loadSlot(name, info, logo, name_to_load, info_to_load, logo_to_load, alt_waiting_time, false);
						$('#' + slot_id).addClass('next-to-load');
					});
				}
			}

			//////////////////////////////////////

			function loadSlot(name, info, logo, name_to_load, info_to_load, logo_to_load, alt_waiting_time, from_hotkey = true) {
				setTimeout(function (){
					const default_logo = logo.replace("-preview", "-default");
					const default_logo_value = $(default_logo).attr("src");

					$(name + ":text").val(name_to_load);
					$(info + ":text").val(info_to_load);
					if (logo_to_load == "default") {
						logo_to_load = default_logo_value;
					}
					$(logo).attr("src", logo_to_load);
					refreshData();
				}, alt_waiting_time * 1000);

				//Switch ON the panel if the autotrigger is ON
				let auto_trigger = name.replace("#", "");
				auto_trigger = auto_trigger.replace("-name", "-autotrigger");
				let alt_switch = name.replace("#alt-", "");
				alt_switch = alt_switch.replace("-name", "");

				if (from_hotkey && document.getElementById(auto_trigger).checked && $("#lower-thirds-switch" + alt_switch).is(':not(:checked)')) {
					$("#lower-thirds-switch" + alt_switch).prop('checked', true).change();
				}
				//console.log(name + "|" + info + "|" + logo + "|" + name_to_load + "|" + info_to_load + "|" + logo_to_load + "|" + alt_waiting_time);
			}

			//////////////////////////////////////

			//Button to clear fields
			$("#bottom-left-clean-inputs").click(function(){
				$("#bottom-left-name:text").val("").change();
				$("#bottom-left-value:text").val("").change();
				var alt_logo_default = $("#bottom-left-logo-default").attr("src");
				$("#bottom-left-logo-preview").attr("src", alt_logo_default).change();
			});
			$("#bottom-right-clean-inputs").click(function(){
				$("#bottom-right-name:text").val("").change();
				$("#bottom-right-value:text").val("").change();
				var alt_logo_default = $("#bottom-right-logo-default").attr("src");
				$("#bottom-right-logo-preview").attr("src", alt_logo_default).change();
			});
			$("#top-left-clean-inputs").click(function(){
				$("#top-left-name:text").val("").change();
				$("#top-left-value:text").val("").change();
				var alt_logo_default = $("#top-left-logo-default").attr("src");
				$("#top-left-logo-preview").attr("src", alt_logo_default).change();
			});
			$("#top-right-clean-inputs").click(function(){
				$("#top-right-name:text").val("").change();
				$("#top-right-value:text").val("").change();
				var alt_logo_default = $("#top-right-logo-default").attr("src");
				$("#top-right-logo-preview").attr("src", alt_logo_default).change();
			});

			///////////////////////////////////////

			//Open Preview screen
			$("#toggle-preview").click(function(){
				document.getElementById("toggle-preview").classList.toggle("active");
				document.getElementById("alt-preview").classList.toggle("active");
				if (document.getElementById("alt-panel").style.marginBottom == "0px") {
					document.getElementById("alt-panel").style.marginBottom = "220px";
				} else {
					document.getElementById("alt-panel").style.marginBottom = "0px";
				}
			});

			///////////////////////////////////////

			function getAppearance () {
				//Lower Third Style
				alt_1_style = $("#bottom-left-style").val() || default_style;
				$("#bottom-left-style").val(alt_1_style);
				alt_2_style = $("#bottom-right-style").val() || default_style;
				$("#bottom-right-style").val(alt_2_style);
				alt_3_style = $("#top-left-style").val() || default_style;
				$("#top-left-style").val(alt_3_style);
				alt_4_style = $("#top-right-style").val()  || default_style;
				$("#top-right-style").val(alt_4_style);

				//Calculate Text Sizes using the inverse ratio
				alt_1_inverse_ratio = $("#bottom-left-inverse-ratio").val() || default_inverse_ratio;
				alt_1_name_size = 1 + alt_1_inverse_ratio * 0.1;
				alt_1_info_size = 2 - alt_1_inverse_ratio * 0.1;

				alt_2_inverse_ratio = $("#bottom-right-inverse-ratio").val() || default_inverse_ratio;
				alt_2_name_size = 1 + alt_2_inverse_ratio * 0.1;
				alt_2_info_size = 2 - alt_2_inverse_ratio * 0.1;				

				alt_3_inverse_ratio = $("#top-left-inverse-ratio").val() || default_inverse_ratio;
				alt_3_name_size = 1 + alt_3_inverse_ratio * 0.1;
				alt_3_info_size = 2 - alt_3_inverse_ratio * 0.1;

				alt_4_inverse_ratio = $("#top-right-inverse-ratio").val() || default_inverse_ratio;
				alt_4_name_size = 1 + alt_4_inverse_ratio * 0.1;
				alt_4_info_size = 2 - alt_4_inverse_ratio * 0.1;				

				//Line Spacing
				alt_1_line_spacing = $("#bottom-left-line-spacing").val() || default_line_spacing;
				alt_2_line_spacing = $("#bottom-right-line-spacing").val() || default_line_spacing;
				alt_3_line_spacing = $("#top-left-line-spacing").val() || default_line_spacing;
				alt_4_line_spacing = $("#top-right-line-spacing").val() || default_line_spacing;

				//Lower Third Size
				alt_1_size = $("#bottom-left-size").val() || default_size;
				alt_2_size = $("#bottom-right-size").val() || default_size;
				alt_3_size = $("#top-left-size").val() || default_size;
				alt_4_size = $("#top-right-size").val() || default_size;

				//Logo Size
				alt_1_logo_size = Number($("#bottom-left-logo-size").val()) * 0.25 + 3.5 || default_logo_size_em;
				alt_2_logo_size = Number($("#bottom-right-logo-size").val()) * 0.25 + 3.5 || default_logo_size_em;
				alt_3_logo_size = Number($("#top-left-logo-size").val()) * 0.25 + 3.5 || default_logo_size_em;
				alt_4_logo_size = Number($("#top-right-logo-size").val()) * 0.25 + 3.5 || default_logo_size_em;

				//Shadow Amount
				alt_1_shadow_amount = $("#bottom-left-shadow-amount").val() * 0.1 || default_shadow_amount_em;
				alt_2_shadow_amount = $("#bottom-right-shadow-amount").val() * 0.1 || default_shadow_amount_em;
				alt_3_shadow_amount = $("#top-left-shadow-amount").val() * 0.1 || default_shadow_amount_em;
				alt_4_shadow_amount = $("#top-right-shadow-amount").val() * 0.1 || default_shadow_amount_em;

				//Background Corners
				alt_1_corners = (Number($("#bottom-left-corners").val()) * 0.25) || default_corners;
				alt_2_corners = (Number($("#bottom-right-corners").val()) * 0.25) || default_corners;
				alt_3_corners = (Number($("#top-left-corners").val()) * 0.25) || default_corners;
				alt_4_corners = (Number($("#top-right-corners").val()) * 0.25) || default_corners;

				//Border Thickness amount
				alt_1_border_thickness_amount = $("#bottom-left-border-thickness-amount").val() || default_border_thickness_amount;
				alt_2_border_thickness_amount = $("#bottom-right-border-thickness-amount").val() || default_border_thickness_amount;
				alt_3_border_thickness_amount = $("#top-left-border-thickness-amount").val() || default_border_thickness_amount;
				alt_4_border_thickness_amount = $("#top-right-border-thickness-amount").val() || default_border_thickness_amount;

				//Margin from de borders Horizontal and Vertical
				alt_1_margin_h = $("#bottom-left-margin-h").val() || default_margin_h;
				alt_1_margin_v = $("#bottom-left-margin-v").val() || default_margin_v;

				alt_2_margin_h = $("#bottom-right-margin-h").val() || default_margin_h;
				alt_2_margin_v = $("#bottom-right-margin-v").val() || default_margin_v;

				alt_3_margin_h = $("#top-left-margin-h").val() || default_margin_h;
				alt_3_margin_v = $("#top-left-margin-v").val() || default_margin_v;

				alt_4_margin_h = $("#top-right-margin-h").val() || default_margin_h;
				alt_4_margin_v = $("#top-right-margin-v").val() || default_margin_v;

				styleRestrictions();
			}

			function styleRestrictions() {
				switch (alt_1_style){
					case "1":
						//Disable: align center | Enable: logo;
						document.getElementById("bottom-left-align-center").disabled = true;
						if (document.getElementById("bottom-left-align-center").checked){
							$("#bottom-left-align-left").prop('checked', true).change();
						}
						document.getElementById("bottom-left-logo").disabled = false;
						document.getElementById("bottom-left-logo-size").disabled = false;
						// document.getElementById("bottom-left-background").classList.remove("locked");
						$("#bottom-left-style-border-color-appearance > :nth-child(3)").addClass("disabled");

						break;
					case "2":
						//Disable: logo | Enable: align center;
						document.getElementById("bottom-left-align-center").disabled = false;
						document.getElementById("bottom-left-logo").disabled = true;
						document.getElementById("bottom-left-logo-size").disabled = false;
						if (document.getElementById("bottom-left-logo").checked){
							$("#bottom-left-logo").prop('checked', false).change();
						}
						// document.getElementById("bottom-left-background").classList.remove("locked");
						$("#bottom-left-style-border-color-appearance > :nth-child(3)").removeClass("disabled");

						break;
					case "3":
						//Disable: - | Enable: Logo, align center;
						document.getElementById("bottom-left-align-center").disabled = true;
						if (document.getElementById("bottom-left-align-center").checked){
							$("#bottom-left-align-left").prop('checked', true).change();
						}
						document.getElementById("bottom-left-logo").disabled = false;
						document.getElementById("bottom-left-logo-size").disabled = true;
						$("#bottom-left-style-border-color-appearance > :nth-child(3)").removeClass("disabled");
						// $("#bottom-left-background").prop('checked', true).change(); NO
						// $("#bottom-left-background").prop('checked', true);
						// document.getElementById("bottom-left-background").classList.add("locked");

						break;

					case "4":
						//Disable: logo | Enable: align center;
						document.getElementById("bottom-left-align-center").disabled = false;
						document.getElementById("bottom-left-logo").disabled = true;
						document.getElementById("bottom-left-logo-size").disabled = false;
						if (document.getElementById("bottom-left-logo").checked){
							$("#bottom-left-logo").prop('checked', false).change();
						}
						// document.getElementById("bottom-left-background").classList.remove("locked");
						$("#bottom-left-style-border-color-appearance > :nth-child(3)").removeClass("disabled");

						break;
				}
				switch (alt_2_style){
					case "1":
						//Disable: align center | Enable: logo;
						document.getElementById("bottom-right-align-center").disabled = true;
						if (document.getElementById("bottom-right-align-center").checked){
							$("#bottom-right-align-left").prop('checked', true).change();
						}
						document.getElementById("bottom-right-logo").disabled = false;
						document.getElementById("bottom-right-logo-size").disabled = false;
						$("#bottom-right-style-border-color-appearance > :nth-child(3)").addClass("disabled");
						break;
					case "2":
						//Disable: logo | Enable: align center;
						document.getElementById("bottom-right-align-center").disabled = false;
						document.getElementById("bottom-right-logo").disabled = true;
						if (document.getElementById("bottom-right-logo").checked){
							$("#bottom-right-logo").prop('checked', false).change();
						}
						$("#bottom-right-style-border-color-appearance > :nth-child(3)").removeClass("disabled");
						break;
					case "3":
						//Disable: - | Enable: Logo, align center;
						document.getElementById("bottom-right-align-center").disabled = true;
						if (document.getElementById("bottom-right-align-center").checked){
							$("#bottom-right-align-left").prop('checked', true).change();
						}
						document.getElementById("bottom-right-logo").disabled = false;
						document.getElementById("bottom-right-logo-size").disabled = true;
						$("#bottom-right-style-border-color-appearance > :nth-child(3)").removeClass("disabled");
						break;

					case "4":
						//Disable: logo | Enable: align center;
						document.getElementById("bottom-right-align-center").disabled = false;
						document.getElementById("bottom-right-logo").disabled = true;
						if (document.getElementById("bottom-right-logo").checked){
							$("#bottom-right-logo").prop('checked', false).change();
						}
						$("#bottom-right-style-border-color-appearance > :nth-child(3)").removeClass("disabled");
						break;
				}
				switch (alt_3_style){
					case "1":
						//Disable: align center | Enable: logo;
						document.getElementById("top-left-align-center").disabled = true;
						if (document.getElementById("top-left-align-center").checked){
							$("#top-left-align-left").prop('checked', true).change();
						}
						document.getElementById("top-left-logo").disabled = false;
						document.getElementById("top-left-logo-size").disabled = false;
						$("#top-left-style-border-color-appearance > :nth-child(3)").addClass("disabled");
						break;
					case "2":
						//Disable: logo | Enable: align center;
						document.getElementById("top-left-align-center").disabled = false;
						document.getElementById("top-left-logo").disabled = true;
						if (document.getElementById("top-left-logo").checked){
							$("#top-left-logo").prop('checked', false).change();
						}
						$("#top-left-style-border-color-appearance > :nth-child(3)").removeClass("disabled");
						break;
					case "3":
						//Disable: - | Enable: Logo, align center;
						document.getElementById("top-left-align-center").disabled = true;
						if (document.getElementById("top-left-align-center").checked){
							$("#top-left-align-left").prop('checked', true).change();
						}
						document.getElementById("top-left-logo").disabled = false;
						document.getElementById("top-left-logo-size").disabled = true;
						$("#top-left-style-border-color-appearance > :nth-child(3)").removeClass("disabled");
						break;

					case "4":
						//Disable: logo | Enable: align center;
						document.getElementById("top-left-align-center").disabled = false;
						document.getElementById("top-left-logo").disabled = true;
						if (document.getElementById("top-left-logo").checked){
							$("#top-left-logo").prop('checked', false).change();
						}
						$("#top-left-style-border-color-appearance > :nth-child(3)").removeClass("disabled");
						break;
				}
				switch (alt_4_style){
					case "1":
						//Disable: align center | Enable: logo;
						document.getElementById("top-right-align-center").disabled = true;
						if (document.getElementById("top-right-align-center").checked){
							$("#top-right-align-left").prop('checked', true).change();
						}
						document.getElementById("top-right-logo").disabled = false;
						document.getElementById("top-right-logo-size").disabled = false;
						$("#top-right-style-border-color-appearance > :nth-child(3)").addClass("disabled");
						break;
					case "2":
						//Disable: logo | Enable: align center;
						document.getElementById("top-right-align-center").disabled = false;
						document.getElementById("top-right-logo").disabled = true;
						if (document.getElementById("top-right-logo").checked){
							$("#top-right-logo").prop('checked', false).change();
						}
						$("#top-right-style-border-color-appearance > :nth-child(3)").removeClass("disabled");
						break;
					case "3":
						//Disable: - | Enable: Logo, align center;
						document.getElementById("top-right-align-center").disabled = true;
						if (document.getElementById("top-right-align-center").checked){
							$("#top-right-align-left").prop('checked', true).change();
						}
						document.getElementById("top-right-logo").disabled = false;
						document.getElementById("top-right-logo-size").disabled = true;
						$("#top-right-style-border-color-appearance > :nth-child(3)").removeClass("disabled");
						break;

					case "4":
						//Disable: logo | Enable: align center;
						document.getElementById("top-right-align-center").disabled = false;
						document.getElementById("top-right-logo").disabled = true;
						if (document.getElementById("top-right-logo").checked){
							$("#top-right-logo").prop('checked', false).change();
						}
						$("#top-right-style-border-color-appearance > :nth-child(3)").removeClass("disabled");
						break;
				}				
			}

			//////////////////////////////////////

			//Receive data from the source
			bcr.onmessage = function (ev) {
				const received_data = ev.data;

				if (received_data.resend) {
					refreshData();
					function_send_font();
				} else {

					alt_1_active_time_monitor = received_data.activeTime1_to_send;
					alt_1_inactive_time_monitor = received_data.inactiveTime1_to_send;
					alt_2_active_time_monitor = received_data.activeTime2_to_send;
					alt_2_inactive_time_monitor = received_data.inactiveTime2_to_send;
					alt_3_active_time_monitor = received_data.activeTime3_to_send;
					alt_3_inactive_time_monitor = received_data.inactiveTime3_to_send;
					alt_4_active_time_monitor = received_data.activeTime4_to_send;
					alt_4_inactive_time_monitor = received_data.inactiveTime4_to_send;

					document.getElementById("bottom-left-active-time-monitor").innerHTML = alt_1_active_time_monitor;
					document.getElementById("bottom-left-inactive-time-monitor").innerHTML = alt_1_inactive_time_monitor;
					document.getElementById("bottom-right-active-time-monitor").innerHTML = alt_2_active_time_monitor;
					document.getElementById("bottom-right-inactive-time-monitor").innerHTML = alt_2_inactive_time_monitor;
					document.getElementById("top-left-active-time-monitor").innerHTML = alt_3_active_time_monitor;
					document.getElementById("top-left-inactive-time-monitor").innerHTML = alt_3_inactive_time_monitor;
					document.getElementById("top-right-active-time-monitor").innerHTML = alt_4_active_time_monitor
					document.getElementById("top-right-inactive-time-monitor").innerHTML = alt_4_inactive_time_monitor;

					alt_1_turnoff = (received_data.alt_1_turnoff);
					alt_2_turnoff = (received_data.alt_2_turnoff);
					alt_3_turnoff = (received_data.alt_3_turnoff);
					alt_4_turnoff = (received_data.alt_4_turnoff);


					if (alt_1_turnoff && $("#lower-thirds-switch1").is(':checked')) {
						$("#lower-thirds-switch1").prop('checked', false).change();
					}
					if (alt_2_turnoff && $("#lower-thirds-switch2").is(':checked')) {
						$('#lower-thirds-switch2').prop('checked', false).change();
					}
					if (alt_3_turnoff && $("#lower-thirds-switch3").is(':checked')) {
						$('#lower-thirds-switch3').prop('checked', false).change();
					}
					if (alt_4_turnoff && $("#lower-thirds-switch4").is(':checked')) {
						$('#lower-thirds-switch4').prop('checked', false).change();
					}

					checkSwitches();
				}
			}

			//////////////////////////////////////

			function function_send() {
				//Switch Lock Active Mode ALT ON/OFF
				global_lock_active = (document.getElementById("global-lock-active").checked) ? true : false;

				alt_1_lock_active = (document.getElementById("bottom-left-lock-active").checked) ? true : false;
				alt_2_lock_active = (document.getElementById("bottom-right-lock-active").checked) ? true : false;
				alt_3_lock_active = (document.getElementById("top-left-lock-active").checked) ? true : false;
				alt_4_lock_active = (document.getElementById("top-right-lock-active").checked) ? true : false;


				//////////////////////////////

				global_animation_time = $("#global-animation-time").val();
				if (global_lock_active){
					global_active_time = Infinity;
				} else {
					global_active_time = $("#global-active-time").val();
				}
				global_inactive_time = $("#global-inactive-time").val();

				alt_1_name = $("#bottom-left-name:text").val();
				alt_1_info = $("#bottom-left-value:text").val();
				alt_1_name_color = $("#bottom-left-name-color:text").val();
				alt_1_info_color = $("#bottom-left-value-color:text").val();
				alt_1_style_color_1 = $("#bottom-left-style-color-1:text").val();
				alt_1_style_color_2 = $("#bottom-left-style-color-2:text").val();
				alt_1_style_color_3 = $("#bottom-left-style-color-3:text").val();
				alt_1_style_color_4 = $("#bottom-left-style-color-4:text").val();

				alt_1_animation_time = $("#bottom-left-animation-time").val();
				if (alt_1_lock_active){
					alt_1_active_time = Infinity;
				} else {
					alt_1_active_time = $("#bottom-left-active-time").val();
				}
				alt_1_inactive_time = $("#bottom-left-inactive-time").val();
				alt_1_logo_image= $("#bottom-left-logo-preview").attr("src");

				alt_2_name = $("#bottom-right-name:text").val();
				alt_2_info = $("#bottom-right-value:text").val();
				alt_2_name_color = $("#bottom-right-name-color:text").val();
				alt_2_info_color = $("#bottom-right-value-color:text").val();
				alt_2_style_color_1 = $("#bottom-right-style-color-1:text").val();
				alt_2_style_color_2 = $("#bottom-right-style-color-2:text").val();
				alt_2_style_color_3 = $("#bottom-right-style-color-3:text").val();
				alt_2_style_color_4 = $("#bottom-right-style-color-4:text").val();
				alt_2_animation_time = $("#bottom-right-animation-time").val();
				if (alt_2_lock_active){
					alt_2_active_time = Infinity;
				} else {
					alt_2_active_time = $("#bottom-right-active-time").val();
				}
				alt_2_inactive_time = $("#bottom-right-inactive-time").val();
				alt_2_logo_image = $("#bottom-right-logo-preview").attr("src");

				alt_3_name = $("#top-left-name:text").val();
				alt_3_info = $("#top-left-value:text").val();
				alt_3_name_color = $("#top-left-name-color:text").val();
				alt_3_info_color = $("#top-left-value-color:text").val();
				alt_3_style_color_1 = $("#top-left-style-color-1:text").val();
				alt_3_style_color_2 = $("#top-left-style-color-2:text").val();
				alt_3_style_color_3 = $("#top-left-style-color-3:text").val();
				alt_3_style_color_4 = $("#top-left-style-color-4:text").val();
				alt_3_animation_time = $("#top-left-animation-time").val();
				if (alt_3_lock_active){
					alt_3_active_time = Infinity;
				} else {
					alt_3_active_time = $("#top-left-active-time").val();
				}
				alt_3_inactive_time = $("#top-left-inactive-time").val();
				alt_3_logo_image = $("#top-left-logo-preview").attr("src");

				alt_4_name = $("#top-right-name:text").val();
				alt_4_info = $("#top-right-value:text").val();
				alt_4_name_color = $("#top-right-name-color:text").val();
				alt_4_info_color = $("#top-right-value-color:text").val();
				alt_4_style_color_1 = $("#top-right-style-color-1:text").val();
				alt_4_style_color_2 = $("#top-right-style-color-2:text").val();
				alt_4_style_color_3 = $("#top-right-style-color-3:text").val();
				alt_4_style_color_4 = $("#top-right-style-color-4:text").val();
				alt_4_animation_time = $("#top-right-animation-time").val();
				if (alt_4_lock_active){
					alt_4_active_time = Infinity;
				} else {
					alt_4_active_time = $("#top-right-active-time").val();
				}
				alt_4_inactive_time = $("#top-right-inactive-time").val();
				alt_4_logo_image = $("#top-right-logo-preview").attr("src");

				//Standard Main settings values
				if(!global_lock_active && global_active_time == "") {
					global_active_time = 25;
				}
				if(global_inactive_time == "") {
					global_inactive_time = 420;
				}
				if(global_animation_time == "") {
					global_animation_time = 4;
				}

				//Check Master Switch
				if (document.getElementById("lower-thirds-masterswitch").checked) {
					masterSwitchIsOn = true;
				} else {
					masterSwitchIsOn = false;
				}

				//Check switches
				if (masterSwitchIsOn) {
					//Switch 1
					if (document.getElementById("lower-thirds-switch1").checked){
						alt_1_switch = "true";
					} else {
						alt_1_switch = "false";
					}

					//Switch 2
					if (document.getElementById("lower-thirds-switch2").checked){
						alt_2_switch = "true";
					} else {
						alt_2_switch = "false";
					}

					//Switch 3
					if (document.getElementById("lower-thirds-switch3").checked){
						alt_3_switch = "true";
					} else {
						alt_3_switch = "false";
					}

					//Switch 4
					if (document.getElementById("lower-thirds-switch4").checked){
						alt_4_switch = "true";
					} else {
						alt_4_switch = "false";
					}
				} else {
					//When the Main Switch is OFF all the Lower Thirds area Inactives or OFF.
					alt_1_switch = "false";
					alt_2_switch = "false";
					alt_3_switch = "false";
					alt_4_switch = "false";
				}

				alt_1_waiting_time = alt_1_animation_time || global_animation_time;
				alt_2_waiting_time = alt_2_animation_time || global_animation_time;
				alt_3_waiting_time = alt_3_animation_time || global_animation_time;
				alt_4_waiting_time = alt_4_animation_time || global_animation_time;

				//////////////////////////////

				//Switch Autoload ALT ON/OFF
				alt_1_autoload = (document.getElementById("bottom-left-autoload").checked) ? true : false;
				alt_2_autoload = (document.getElementById("bottom-right-autoload").checked) ? true : false;
				alt_3_autoload = (document.getElementById("top-left-autoload").checked) ? true : false;
				alt_4_autoload = (document.getElementById("top-right-autoload").checked) ? true : false;

				//////////////////////////////

				//Switch Autotrigger ALT ON/OFF
				alt_1_autotrigger = document.getElementById("bottom-left-autotrigger").checked;
				alt_2_autotrigger = document.getElementById("bottom-right-autotrigger").checked;
				alt_3_autotrigger = document.getElementById("top-left-autotrigger").checked;
				alt_4_autotrigger = document.getElementById("top-right-autotrigger").checked;


				//////////////////////////////

				//Switch One-shot Mode ALT ON/OFF
				global_oneshot = (document.getElementById("global-oneshot").checked) ? true : false;

				alt_1_oneshot = (document.getElementById("bottom-left-oneshot").checked) ? true : false;
				alt_2_oneshot = (document.getElementById("bottom-right-oneshot").checked) ? true : false;
				alt_3_oneshot = (document.getElementById("top-left-oneshot").checked) ? true : false;
				alt_4_oneshot = (document.getElementById("top-right-oneshot").checked) ? true : false;

				//////////////////////////////

				//Show the slots numbers
				if (document.getElementById("set-slot-numbers").checked == false) {
					$('.slot-number').each(function(){
						$(this).removeClass("hide");
					});
				} else {
					$('.slot-number').each(function(){
						$(this).addClass("hide");
					});
				}

				//////////////////////////////

				//Create Tooltips to show the contect of the slots
				if (document.getElementById("set-tooltips").checked) {
					$('.panel-bottom > ul > li').each(function(){
						var name_to_tooltip = $(this).children('.stored-name').text();
						var info_to_tooltip = $(this).children('.stored-info').text();
						var isStored = (name_to_tooltip && info_to_tooltip) ? true : false;
						var isTooltip = $(this).children(".tooltiptext")[0] ? true : false;

						if (isTooltip){
							if (!isStored) {
								$(this).children(".tooltiptext").remove();
								// $(this).prepend('<span class="tooltiptext"><p>Empty. Click to save.</p></span>');
							}
						} else {
							if (isStored) {
								$(this).prepend('<span class="tooltiptext">' + name_to_tooltip + '<br>' + info_to_tooltip + '<hr><p>Click and hold to delete.</p></span>');
							}
						}

					});
				} else {
					$('.tooltiptext').each(function(){
						$(this).remove();
					});
				}


				//////////////////////////////

				if (document.getElementById("set-switch-position").checked) {
					$('.switch').each(function(){
						$(this).addClass("switch-left");
					});
					$('.drag-handle').each(function(){
						$(this).addClass("switch-left");
					});
					$('.main-title').addClass("switch-left");

				} else {
					$('.switch').each(function(){
						$(this).removeClass("switch-left");
					});
					$('.drag-handle').each(function(){
						$(this).removeClass("switch-left");
					});
					$('.main-title').removeClass("switch-left");
				}


				//////////////////////////////

				//Switch Preview ALT ON/OFF
				if (document.getElementById("set-preview").checked) {
					$('#alt-preview, .preview-btn').each(function(){
						$(this).removeClass("hide");
					});
				} else {
					$('#alt-preview, .preview-btn').each(function(){
						$(this).addClass("hide");
					});
				}

				if (document.getElementById("bottom-left-preview").checked == false) {
					alt_1_preview = "false";
				} else {
					alt_1_preview = "true";
				}
				if (document.getElementById("bottom-right-preview").checked == false) {
					alt_2_preview = "false";
				} else {
					alt_2_preview = "true";
				}
				if (document.getElementById("top-left-preview").checked == false) {
					alt_3_preview = "false";
				} else {
					alt_3_preview = "true";
				}
				if (document.getElementById("top-right-preview").checked == false) {
					alt_4_preview = "false";
				} else {
					alt_4_preview = "true";
				}


				//////////////////////////////

				//Switch Logo ON/OFF
				if (document.getElementById("bottom-left-logo").checked == false) {
					alt_1_logo_switch = "false";
					$("#bottom-left-logo-size").addClass("disable");
					$("#bottom-left-config-content > .first-edit-container > .logo-container").addClass("hide");
				} else {
					alt_1_logo_switch = "true";
					$("#bottom-left-logo-size").removeClass("disable");
					$("#bottom-left-config-content > .first-edit-container > .logo-container").removeClass("hide");
				}
				if (document.getElementById("bottom-right-logo").checked == false) {
					alt_2_logo_switch = "false";
					$("#bottom-right-logo-size").addClass("disable");
					$("#bottom-right-config-content > .first-edit-container > .logo-container").addClass("hide");
				} else {
					alt_2_logo_switch = "true";
					$("#bottom-right-logo-size").removeClass("disable");
					$("#bottom-right-config-content > .first-edit-container > .logo-container").removeClass("hide");
				}
				if (document.getElementById("top-left-logo").checked == false) {
					alt_3_logo_switch = "false";
					$("#top-left-logo-size").addClass("disable");
					$("#top-left-config-content > .first-edit-container > .logo-container").addClass("hide");
				} else {
					alt_3_logo_switch = "true";
					$("#top-left-logo-size").removeClass("disable");
					$("#top-left-config-content > .first-edit-container > .logo-container").removeClass("hide");
				}
				if (document.getElementById("top-right-logo").checked == false) {
					alt_4_logo_switch = "false";
					$("#top-right-logo-size").addClass("disable");
					$("#top-right-config-content > .first-edit-container > .logo-container").addClass("hide");
				} else {
					alt_4_logo_switch = "true";
					$("#top-right-logo-size").removeClass("disable");
					$("#top-right-config-content > .first-edit-container > .logo-container").removeClass("hide");
				}

				//Switch Background color ON/OFF
				if (document.getElementById("bottom-left-background").checked == false) {
					alt_1_background_switch = "false";
					$("#bottom-left-style-color-appearance").addClass("disable");
				} else {
					alt_1_background_switch = "true";
					$("#bottom-left-style-color-appearance").removeClass("disable");
				}
				if (document.getElementById("bottom-right-background").checked == false) {
					alt_2_background_switch = "false";
					$("#bottom-right-style-color-appearance").addClass("disable");
				} else {
					alt_2_background_switch = "true";
					$("#bottom-right-style-color-appearance").removeClass("disable");
				}
				if (document.getElementById("top-left-background").checked == false) {
					alt_3_background_switch = "false";
					$("#top-left-style-color-appearance").addClass("disable");
				} else {
					alt_3_background_switch = "true";
					$("#top-left-style-color-appearance").removeClass("disable");
				}
				if (document.getElementById("top-right-background").checked == false) {
					alt_4_background_switch = "false";
					$("#top-right-style-color-appearance").addClass("disable");
				} else {
					alt_4_background_switch = "true";
					$("#top-right-style-color-appearance").removeClass("disable");
				}

				//Multiple/Twins checkbox
				$('.twin-checkbox').each(function(){
					twin_name = $(this).attr('name');
					var twin_checkboxes = $("input[type=checkbox][name="+ twin_name +"]");
					twin_checkboxes.on("click", function(e) {
						twin_checkboxes.prop("checked", this.checked);
					});
				});

				//Switch Border color and Border thickness ON/OFF
				if (document.getElementById("bottom-left-border-color").checked == false) {
					alt_1_border_switch = "false";
					$("#bottom-left-border-thickness-amount").addClass("disable");
					$("#bottom-left-style-border-color-appearance").addClass("disable");
				} else {
					alt_1_border_switch = "true";
					$("#bottom-left-border-thickness-amount").removeClass("disable");
					$("#bottom-left-style-border-color-appearance").removeClass("disable");
				}
				if (document.getElementById("bottom-right-border-color").checked == false) {
					alt_2_border_switch = "false";
					$("#bottom-right-border-thickness-amount").addClass("disable");
					$("#bottom-right-style-border-color-appearance").addClass("disable");
				} else {
					alt_2_border_switch = "true";
					$("#bottom-right-border-thickness-amount").removeClass("disable");
					$("#bottom-right-style-border-color-appearance").removeClass("disable");
				}
				if (document.getElementById("top-left-border-color").checked == false) {
					alt_3_border_switch = "false";
					$("#top-left-border-thickness-amount").addClass("disable");
					$("#top-left-style-border-color-appearance").addClass("disable");
				} else {
					alt_3_border_switch = "true";
					$("#top-left-border-thickness-amount").removeClass("disable");
					$("#top-left-style-border-color-appearance").removeClass("disable");
				}
				if (document.getElementById("top-right-border-color").checked == false) {
					alt_4_border_switch = "false";
					$("#top-right-border-thickness-amount").addClass("disable");
					$("#top-right-style-border-color-appearance").addClass("disable");
				} else {
					alt_4_border_switch = "true";
					$("#top-right-border-thickness-amount").removeClass("disable");
					$("#top-right-style-border-color-appearance").removeClass("disable");
				}

				//Switch Shadows ON/OFF
				if (document.getElementById("bottom-left-shadows").checked == false) {
					alt_1_shadows = "false";
					$("#bottom-left-shadow-amount").addClass("disable");
				} else {
					alt_1_shadows = "true";
					$("#bottom-left-shadow-amount").removeClass("disable");
				}
				if (document.getElementById("bottom-right-shadows").checked == false) {
					alt_2_shadows = "false";
					$("#bottom-right-shadow-amount").addClass("disable");
				} else {
					alt_2_shadows = "true";
					$("#bottom-right-shadow-amount").removeClass("disable");
				}
				if (document.getElementById("top-left-shadows").checked == false) {
					alt_3_shadows = "false";
					$("#top-left-shadow-amount").addClass("disable");
				} else {
					alt_3_shadows = "true";
					$("#top-left-shadow-amount").removeClass("disable");
				}
				if (document.getElementById("top-right-shadows").checked == false) {
					alt_4_shadows = "false";
					$("#top-right-shadow-amount").addClass("disable");
				} else {
					alt_4_shadows = "true";
					$("#top-right-shadow-amount").removeClass("disable");
				}

				//Name and Info text appearance (Uppercase and Bold)
				if (document.getElementById("bottom-left-name-transform").checked == false) {
					alt_1_name_transform = "normal";
				} else {
					alt_1_name_transform = "uppercase";
				}
				if (document.getElementById("bottom-left-name-weight").checked == false) {
					alt_1_name_weight = "lighter";
				} else {
					alt_1_name_weight = "bold";
				}
				if (document.getElementById("bottom-left-name-style").checked == false) {
					alt_1_name_style = "normal";
				} else {
					alt_1_name_style = "italic";
				}
				if (document.getElementById("bottom-right-name-transform").checked == false) {
					alt_2_name_transform = "normal";
				} else {
					alt_2_name_transform = "uppercase";
				}
				if (document.getElementById("bottom-right-name-weight").checked == false) {
					alt_2_name_weight = "lighter";
				} else {
					alt_2_name_weight = "bold";
				}
				if (document.getElementById("bottom-right-name-style").checked == false) {
					alt_2_name_style = "normal";
				} else {
					alt_2_name_style = "italic";
				}
				if (document.getElementById("top-left-name-transform").checked == false) {
					alt_3_name_transform = "normal";
				} else {
					alt_3_name_transform = "uppercase";
				}
				if (document.getElementById("top-left-name-weight").checked == false) {
					alt_3_name_weight = "lighter";
				} else {
					alt_3_name_weight = "bold";
				}
				if (document.getElementById("top-left-name-style").checked == false) {
					alt_3_name_style = "normal";
				} else {
					alt_3_name_style = "italic";
				}
				if (document.getElementById("top-right-name-transform").checked == false) {
					alt_4_name_transform = "normal";
				} else {
					alt_4_name_transform = "uppercase";
				}
				if (document.getElementById("top-right-name-weight").checked == false) {
					alt_4_name_weight = "lighter";
				} else {
					alt_4_name_weight = "bold";
				}
				if (document.getElementById("top-right-name-style").checked == false) {
					alt_4_name_style = "normal";
				} else {
					alt_4_name_style = "italic";
				}

				if (document.getElementById("bottom-left-value-transform").checked == false) {
					alt_1_info_transform = "normal";
				} else {
					alt_1_info_transform = "uppercase";
				}
				if (document.getElementById("bottom-left-value-weight").checked == false) {
					alt_1_info_weight = "lighter";
				} else {
					alt_1_info_weight = "bold";
				}
				if (document.getElementById("bottom-left-value-style").checked == false) {
					alt_1_info_style = "normal";
				} else {
					alt_1_info_style = "italic";
				}
				if (document.getElementById("bottom-right-value-transform").checked == false) {
					alt_2_info_transform = "normal";
				} else {
					alt_2_info_transform = "uppercase";
				}
				if (document.getElementById("bottom-right-value-weight").checked == false) {
					alt_2_info_weight = "lighter";
				} else {
					alt_2_info_weight = "bold";
				}
				if (document.getElementById("bottom-right-value-style").checked == false) {
					alt_2_info_style = "normal";
				} else {
					alt_2_info_style = "italic";
				}
				if (document.getElementById("top-left-value-transform").checked == false) {
					alt_3_info_transform = "normal";
				} else {
					alt_3_info_transform = "uppercase";
				}
				if (document.getElementById("top-left-value-weight").checked == false) {
					alt_3_info_weight = "lighter";
				} else {
					alt_3_info_weight = "bold";
				}
				if (document.getElementById("top-left-value-style").checked == false) {
					alt_3_info_style = "normal";
				} else {
					alt_3_info_style = "italic";
				}
				if (document.getElementById("top-right-value-transform").checked == false) {
					alt_4_info_transform = "normal";
				} else {
					alt_4_info_transform = "uppercase";
				}
				if (document.getElementById("top-right-value-weight").checked == false) {
					alt_4_info_weight = "lighter";
				} else {
					alt_4_info_weight = "bold";
				}
				if (document.getElementById("top-right-value-style").checked == false) {
					alt_4_info_style = "normal";
				} else {
					alt_4_info_style = "italic";
				}

				//Font of the Lower Third
				var font_id_1 = document.getElementById("bottom-left-font");
				var alt_1_font = font_id_1.options[font_id_1.selectedIndex].value;
				var font_id_2 = document.getElementById("bottom-right-font");
				var alt_2_font = font_id_2.options[font_id_2.selectedIndex].value;
				var font_id_3 = document.getElementById("top-left-font");
				var alt_3_font = font_id_3.options[font_id_3.selectedIndex].value;
				var font_id_4 = document.getElementById("top-right-font");
				var alt_4_font = font_id_4.options[font_id_4.selectedIndex].value;

				//Alignment of the Lower Third
				var alt_1_align = $('input[name=bottom-left-align]:checked').val();
				if (!alt_1_align) {
					$('#bottom-left-align-left').prop('checked', true).change();
				}
				var alt_2_align = $('input[name=bottom-right-align]:checked').val();
				if (!alt_2_align) {
					$('#bottom-right-align-left').prop('checked', true).change();
				}
				var alt_3_align = $('input[name=top-left-align]:checked').val();
				if (!alt_3_align) {
					$('#top-left-align-left').prop('checked', true).change();
				}
				var alt_4_align = $('input[name=top-right-align]:checked').val();
				if (!alt_4_align) {
					$('#top-right-align-left').prop('checked', true).change();
				}

				//
				if (global_oneshot){
					document.getElementById("global-inactive-time").classList.add("disable");
				} else {
					document.getElementById("global-inactive-time").classList.remove("disable");
				}
				if (alt_1_oneshot){
					document.getElementById("bottom-left-inactive-time").classList.add("disable");
				} else {
					document.getElementById("bottom-left-inactive-time").classList.remove("disable");
				}
				if (alt_2_oneshot){
					document.getElementById("bottom-right-inactive-time").classList.add("disable");
				} else {
					document.getElementById("bottom-right-inactive-time").classList.remove("disable");
				}
				if (alt_3_oneshot){
					document.getElementById("top-left-inactive-time").classList.add("disable");
				} else {
					document.getElementById("top-left-inactive-time").classList.remove("disable");
				}
				if (alt_4_oneshot){
					document.getElementById("top-right-inactive-time").classList.add("disable");
				} else {
					document.getElementById("top-right-inactive-time").classList.remove("disable");
				}

				//
				if (global_lock_active){
					document.getElementById("global-active-time").classList.add("disable");
				} else {
					document.getElementById("global-active-time").classList.remove("disable");
				}
				if (alt_1_lock_active){
					document.getElementById("bottom-left-active-time").classList.add("disable");
					// document.getElementById("bottom-left-active-time").value = "Locked";
				} else {
					document.getElementById("bottom-left-active-time").classList.remove("disable");
					// document.getElementById("bottom-left-active-time").value = "";
				}
				if (alt_2_lock_active){
					document.getElementById("bottom-right-active-time").classList.add("disable");
				} else {
					document.getElementById("bottom-right-active-time").classList.remove("disable");
				}
				if (alt_3_lock_active){
					document.getElementById("top-left-active-time").classList.add("disable");
				} else {
					document.getElementById("top-left-active-time").classList.remove("disable");
				}
				if (alt_4_lock_active){
					document.getElementById("top-right-active-time").classList.add("disable");
				} else {
					document.getElementById("top-right-active-time").classList.remove("disable");
				}

				//Shows if custom time settings is used
				if (alt_1_animation_time || (alt_1_active_time && alt_1_active_time != 'Infinity') || alt_1_inactive_time || alt_1_lock_active || alt_1_oneshot) {
					$("#bottom-left-custom-times").children(".icon-btn").addClass("active");
				} else {
					$("#bottom-left-custom-times").children(".icon-btn").removeClass("active");
				}
				if (alt_2_animation_time || (alt_2_active_time && alt_2_active_time != 'Infinity') || alt_2_inactive_time || alt_2_lock_active || alt_2_oneshot) {
					$("#bottom-right-custom-times").children(".icon-btn").addClass("active");
				} else {
					$("#bottom-right-custom-times").children(".icon-btn").removeClass("active");
				}
				if (alt_3_animation_time || (alt_3_active_time && alt_3_active_time != 'Infinity') || alt_3_inactive_time || alt_3_lock_active || alt_3_oneshot) {
					$("#top-left-custom-times").children(".icon-btn").addClass("active");
				} else {
					$("#top-left-custom-times").children(".icon-btn").removeClass("active");
				}
				if (alt_4_animation_time || (alt_4_active_time && alt_4_active_time != 'Infinity') || alt_4_inactive_time || alt_4_lock_active || alt_4_oneshot) {
					$("#top-right-custom-times").children(".icon-btn").addClass("active");
				} else {
					$("#top-right-custom-times").children(".icon-btn").removeClass("active");
				}

				bc.postMessage({global_animation_time, global_active_time, global_inactive_time, alt_1_switch, alt_1_style, alt_1_name, alt_1_info, alt_1_name_size, alt_1_info_size , alt_1_name_transform, alt_1_info_transform, alt_1_name_weight, alt_1_name_style, alt_1_info_weight, alt_1_info_style, alt_1_name_color, alt_1_info_color, alt_1_style_color_1, alt_1_style_color_2, alt_1_logo_switch, alt_1_background_switch, alt_1_shadows, alt_1_align, alt_1_size, alt_1_margin_h, alt_1_margin_v, alt_1_line_spacing, alt_1_font, alt_2_switch, alt_2_style, alt_2_name, alt_2_info, alt_2_name_size, alt_2_info_size , alt_2_name_transform, alt_2_info_transform, alt_2_name_weight, alt_2_name_style, alt_2_info_weight, alt_2_info_style, alt_2_name_color, alt_2_info_color, alt_2_style_color_1, alt_2_style_color_2, alt_2_logo_switch, alt_2_background_switch, alt_2_shadows, alt_2_align, alt_2_size, alt_2_margin_h, alt_2_margin_v, alt_2_line_spacing, alt_2_font, alt_3_switch, alt_3_style, alt_3_name, alt_3_info, alt_3_name_size, alt_3_info_size , alt_3_name_transform, alt_3_info_transform, alt_3_name_weight, alt_3_name_style, alt_3_info_weight, alt_3_info_style, alt_3_name_color, alt_3_info_color, alt_3_style_color_1, alt_3_style_color_2, alt_3_logo_switch, alt_3_background_switch, alt_3_shadows, alt_3_align, alt_3_size, alt_3_margin_h, alt_3_margin_v, alt_3_line_spacing, alt_3_font, alt_4_switch, alt_4_style, alt_4_name, alt_4_info, alt_4_name_size, alt_4_info_size , alt_4_name_transform, alt_4_info_transform, alt_4_name_weight, alt_4_name_style, alt_4_info_weight, alt_4_info_style, alt_4_name_color, alt_4_info_color, alt_4_style_color_1, alt_4_style_color_2, alt_4_logo_switch, alt_4_background_switch, alt_4_shadows, alt_4_align, alt_4_size, alt_4_margin_h, alt_4_margin_v, alt_4_line_spacing, alt_4_font, alt_1_animation_time, alt_1_active_time, alt_1_inactive_time, alt_2_animation_time, alt_2_active_time, alt_2_inactive_time, alt_3_animation_time, alt_3_active_time, alt_3_inactive_time, alt_4_animation_time, alt_4_active_time, alt_4_inactive_time, alt_1_logo_image, alt_2_logo_image, alt_3_logo_image, alt_4_logo_image, global_oneshot, alt_1_oneshot, alt_2_oneshot, alt_3_oneshot, alt_4_oneshot, alt_1_logo_size, alt_1_shadow_amount, alt_1_corners, alt_1_border_switch, alt_1_border_thickness_amount, alt_1_style_color_3, alt_1_style_color_4, alt_2_logo_size, alt_2_shadow_amount, alt_2_corners, alt_2_border_switch, alt_2_border_thickness_amount, alt_2_style_color_3, alt_2_style_color_4, alt_3_logo_size, alt_3_shadow_amount, alt_3_corners, alt_3_border_switch, alt_3_border_thickness_amount, alt_3_style_color_3, alt_3_style_color_4, alt_4_logo_size, alt_4_shadow_amount, alt_4_corners, alt_4_border_switch, alt_4_border_thickness_amount, alt_4_style_color_3, alt_4_style_color_4, alt_1_preview, alt_2_preview, alt_3_preview, alt_4_preview});
			}

			//Send New Fonts to source
			function function_send_font() {
				$.each(fontlist_urls, function(i) {
					new_font_to_send = fontlist_urls[i];
					bcf.postMessage({new_font_to_send});
				});					
			}

			//Read txt file and call writeLocalStorage function
			document.getElementById('importFile').onchange = function(){
				var file = this.files[0];
				var reader = new FileReader();
				reader.onload = function(progressEvent){
					localStorage.clear();
					
					writeLocalStorage(this.result);
				};
				reader.readAsText(file);
			};

			function openTab(element, cityName) {
				// Declare all variables
				var i, tabcontent, tablinks;

				// Get all elements with class="tabcontent" and hide them
				tabcontent = document.getElementsByClassName("tabcontent");
				for (i = 0; i < tabcontent.length; i++) {
					tabcontent[i].style.display = "none";
				}

				// Get all elements with class="tablinks" and remove the class "active"
				tablinks = document.getElementsByClassName("tablinks");
				for (i = 0; i < tablinks.length; i++) {
					tablinks[i].className = tablinks[i].className.replace(" active", "");
				}

				// Show the current tab, and add an "active" class to the button that opened the tab
				document.getElementById('tab-'+cityName).style.display = "block";
				element.className += " active";
				updateMoreMaxHeight()
			}

			//Create Tooltips to show settings info
			function settingsTooltips (){
				const tooltip = {
					"global_animation_time" : "Length of the in and out animation.<br>Default: 4 sec.",
					"global_active_time" : "How long the LT is active.<br>Default: 25 sec.",
					"global_inactive_time" : "How long the LT is inactive.<br>Default: 420 sec." ,
					"lock_active" : "Lock the active state: Always active.",
					"oneshot" : "Oneshot: Turns off the LT Switch when it goes into inactive state.",
					"preview" : "Show/hide the LT in the preview window",
					"align_left" : "Left alignment.",
					"align_center" : "Center alignment.",
					"align_right" : "Right alignment.",
					"style" : "Style: Changes the look of the LT.",
					"size" : "Size of the LT.",
					"margin" : "Horizontal and vertical margin.",
					"text_size" : "Ratio between the size of the texts.",
					"line_spacing" : "Space between texts.",					
					"font" : "LT Text font.",
					"logo" : "Show/hide the logo image.",
					"logo_size" : "Size of the logo image.",
					"shadow" : "Show/hide shadows.",
					"shadow_opacity" : "Shadows opacity.",
					"fill_colors" : "Enable/disable fill or background colors.",
					"corners" : "Round corners.",
					"borders" : "Enable/disable borders.",
					"borders_thinkness" : "Border thickness.",
					"uppercase" : "Enable/disable uppercase.",
					"bold" : "Enable/disable bold.",
					"clean" : "Clear the text fields and set the logo to default.",
					"autotrigger" : "Autotrigger: Turns on the switch automatically when a slot memory is loaded.",
					"autoload" : "Autoload: Loads automatically the next memory slot every time it goes to the inactive state. Ready to display in the next cycle.",
					"custom_times" : "Show/hide custom time settings.",
					"animation_time" : "Length of the in and out animation.",
					"active_time" : "How long the LT is active.",
					"inactive_time" : "How long the LT is inactive.",
					"preview_window" : "Show/hide preview window.",
					"custom_fonts" : "Add fonts from Google Fonts.",
					"default_logos" : "Change the default logos of each LT.<br>Make sure to copy the logo files into the logos folder.<br>You can use JPG, PNG, TIFF, GIF, etc.<br>With transparency or animated.",
				};

				$("#global-animation-time").attr("title", tooltip.global_animation_time);
				$("#global-active-time").attr("title", tooltip.global_active_time);
				$("#global-inactive-time").attr("title", tooltip.global_inactive_time);
				$("#bottom-left-animation-time, #bottom-right-animation-time, #top-left-animation-time, #top-right-animation-time").attr("title", tooltip.animation_time);
				$("#bottom-left-active-time, #bottom-right-active-time, #top-left-active-time, #top-right-active-time").attr("title", tooltip.active_time);
				$("#bottom-left-inactive-time, #bottom-right-inactive-time, #top-left-inactive-time, #top-right-inactive-time").attr("title", tooltip.inactive_time);
				$("#global-lock-active, #bottom-left-lock-active, #bottom-right-lock-active, #top-left-lock-active, #top-right-lock-active").parent().attr("title", tooltip.lock_active);
				$("#global-oneshot, #bottom-left-oneshot, #bottom-right-oneshot, #top-left-oneshot, #top-right-oneshot").parent().attr("title", tooltip.oneshot);
				
				$("#bottom-left-preview, #bottom-right-preview, #top-left-preview, #top-right-preview").parent().attr("title", tooltip.preview);
				$("#bottom-left-align-left, #bottom-right-align-left, #top-left-align-left, #top-right-align-left").next().attr("title", tooltip.align_left);
				$("#bottom-left-align-center, #bottom-right-align-center, #top-left-align-center, #top-right-align-center").next().attr("title", tooltip.align_center);
				$("#bottom-left-align-right, #bottom-right-align-right, #top-left-align-right, #top-right-align-right").next().attr("title", tooltip.align_right);
				$("#bottom-left-style, #bottom-right-style, #top-left-style, #top-right-style").parent().parent().attr("title", tooltip.style);
				$("#bottom-left-size, #bottom-right-size, #top-left-size, #top-right-size").parent().parent().attr("title", tooltip.size);
				$("#bottom-left-margin-h, #bottom-right-margin-h, #top-left-margin-h, #top-right-margin-h").parent().parent().attr("title", tooltip.margin);
				$("#bottom-left-inverse-ratio, #bottom-right-inverse-ratio, #top-left-inverse-ratio, #top-right-inverse-ratio").parent().parent().attr("title", tooltip.text_size);
				$("#bottom-left-line-spacing, #bottom-right-line-spacing, #top-left-line-spacing, #top-right-line-spacing").parent().parent().attr("title", tooltip.line_spacing);
				$("#bottom-left-font, #bottom-right-font, #top-left-font, #top-right-font").parent().attr("title", tooltip.font);
				$("#bottom-left-logo, #bottom-right-logo, #top-left-logo, #top-right-logo").parent().attr("title", tooltip.logo);
				$("#bottom-left-logo-size, #bottom-right-logo-size, #top-left-logo-size, #top-right-logo-size").parent().attr("title", tooltip.logo_size);
				$("#bottom-left-shadows, #bottom-right-shadows, #top-left-shadows, #top-right-shadows").parent().attr("title", tooltip.shadow);
				$("#bottom-left-shadow-amount, #bottom-right-shadow-amount, #top-left-shadow-amount, #top-right-shadow-amount").parent().attr("title", tooltip.shadow_opacity);
				$("#bottom-left-background, #bottom-right-background, #top-left-background, #top-right-background").parent().attr("title", tooltip.fill_colors);
				$("#bottom-left-corners, #bottom-right-corners, #top-left-corners, #top-right-corners").parent().parent().attr("title", tooltip.corners);
				$("#bottom-left-border-thickness, #bottom-right-border-thickness, #top-left-border-thickness #top-right-border-thickness").parent().attr("title", tooltip.borders);
				$("#bottom-left-border-color, #bottom-right-border-color, #top-left-border-color, #top-right-border-color").parent().attr("title", tooltip.borders);
				$("#bottom-left-border-thickness-amount, #bottom-right-border-thickness-amount, #top-left-border-thickness-amount, #top-right-border-thickness-amount").parent().attr("title", tooltip.borders_thinkness);

				$("#bottom-left-clean-inputs, #bottom-right-clean-inputs, #top-left-clean-inputs, #top-right-clean-inputs").attr("title", tooltip.clean);
				$("#bottom-left-autotrigger, #bottom-right-autotrigger, #top-left-autotrigger, #top-right-autotrigger").parent().attr("title", tooltip.autotrigger);
				$("#bottom-left-autoload, #bottom-right-autoload, #top-left-autoload, #top-right-autoload").parent().attr("title", tooltip.autoload);
				$("#bottom-left-custom-times, #bottom-right-custom-times, #top-left-custom-times, #top-right-custom-times").attr("title", tooltip.custom_times);

				$("#fonts-options").children().first().attr("title", tooltip.custom_fonts);
				$(".logos-options").children().first().attr("title", tooltip.default_logos);
				$("#toggle-preview").attr("title", tooltip.preview_window);
				
				$(document).tooltip({  
					show: { delay: 600, duration: 200 },
					open: function(event, ui)  
					{  
						ui.tooltip.hover(  
						function () {  
							$(this).fadeTo("slow", 0.2);  
						});  
					},
					content: function() {
						return $(this).attr("title");
					}
				});
			}

			//Read all localstorage data
			function getLocalStorage() {
				var a = {};
				for (var i = 0; i < localStorage.length; i++) {
					var k = localStorage.key(i);
					var v = localStorage.getItem(k);
					a[k] = v;
				}
				var s = JSON.stringify(a);
				return s;
			}

			//Save data to localStorage
			function writeLocalStorage(data) {
				var o = JSON.parse(data);
				for (var property in o) {
					if (o.hasOwnProperty(property)) {
						localStorage.setItem(property, o[property]);
					}
				}
				location.reload();
        	}

			//Copy all data to clipboard
			function exportData() {
				syncSlotsToLocalStorage();
				var allData = getLocalStorage();
				document.getElementById("dataInput").value = allData;
				var copyText = document.getElementById("dataInput");

				//Open the Popup "Copied to Clipboard"
				openExportPopup();

				//Select text input and copy to the clipboard
				copyText.select();
				document.execCommand("copy");
        	}

			function syncSlotsToLocalStorage() {
				for (let i = 1; i <= 10; i++) {
					let name = document.getElementById(`bottom-left-name-${i}`).textContent;
					let info = document.getElementById(`bottom-left-value-${i}`).textContent;
					let logo = document.getElementById(`bottom-left-logo-${i}`).textContent;
					localStorage.setItem(`bottom-left-name-${i}`, name);
					localStorage.setItem(`bottom-left-value-${i}`, info);
					localStorage.setItem(`bottom-left-logo-${i}`, logo);
				}
				for (let i = 1; i <= 10; i++) {
					let name = document.getElementById(`bottom-right-name-${i}`).textContent;
					let info = document.getElementById(`bottom-right-value-${i}`).textContent;
					let logo = document.getElementById(`bottom-right-logo-${i}`).textContent;
					localStorage.setItem(`bottom-right-name-${i}`, name);
					localStorage.setItem(`bottom-right-value-${i}`, info);
					localStorage.setItem(`bottom-right-logo-${i}`, logo);
				}
				for (let i = 1; i <= 10; i++) {
					let name = document.getElementById(`top-left-name-${i}`).textContent;
					let info = document.getElementById(`top-left-value-${i}`).textContent;
					let logo = document.getElementById(`top-left-logo-${i}`).textContent;
					localStorage.setItem(`top-left-name-${i}`, name);
					localStorage.setItem(`top-left-value-${i}`, info);
					localStorage.setItem(`top-left-logo-${i}`, logo);
				}
				for (let i = 1; i <= 10; i++) {
					let name = document.getElementById(`top-right-name-${i}`).textContent;
					let info = document.getElementById(`top-right-value-${i}`).textContent;
					let logo = document.getElementById(`top-right-logo-${i}`).textContent;
					localStorage.setItem(`top-right-name-${i}`, name);
					localStorage.setItem(`top-right-value-${i}`, info);
					localStorage.setItem(`top-right-logo-${i}`, logo);
				}
			}

			function loadData () {
				$('.storable').each(function(){    
					var id = $(this).attr('id');
					var value = localStorage.getItem(id);
					var default_value = $(this).attr('value');

					if(value) {
						$(this).val(value);
					} else if (default_value) {
						$(this).val(default_value);
					}
				});

				$('.logo-storable').each(function(){    
					var id = $(this).attr('id');
					var value = localStorage.getItem(id);
					if(value != "undefined" && value != ""){
						$(this).attr('src', value);
					} else {
						//Set all to default the first time
						if (id == "bottom-left-logo-preview" || id == "bottom-left-logo-default"){
							$(this).attr('src', alt_1_logo_default);
						}
						if (id == "bottom-right-logo-preview" || id == "bottom-right-logo-default"){
							$(this).attr('src', alt_2_logo_default);
						}
						if (id == "top-left-logo-preview" || id == "top-left-logo-default"){
							$(this).attr('src', alt_3_logo_default);
						}
						if (id == "top-right-logo-preview" || id == "top-right-logo-default"){
							$(this).attr('src', alt_4_logo_default);
						}
					}
				});

				$('.slot-storable').each(function(){    
					var id = $(this).attr('id');
					var value = localStorage.getItem(id);

					$(this).text(value);
				});

				$('.checkbox-storable, .radio-storable').each(function(){
                    var id = $(this).attr('id');
					var value = localStorage.getItem(id);

					if (value) {
						$(this).prop('checked', localStorage.getItem(id) === 'true');
					}
                });

				$('.title-storable').each(function(){    
					var id = $(this).attr('id');
					var value = localStorage.getItem(id);
					
					if (value) {
						$(this).text(value);
					}
				});

			}

			function saveData () {
				// If local storage is empty, call reset to reinitialize
				if (localStorage.length === 0) {
					okResetPopup();
				}

	        	$('.storable').change(function(){
					refreshData();
					var id = $(this).attr('id');
					var value = $(this).val();
					localStorage.setItem(id, value);
	        	});

	        	// Update while input (text or number) is changed
				$(':input[type=text], :input[type=number]').on('input',function(e){
					refreshData();
					var id = $(this).attr('id');
					var value = $(this).val();
					localStorage.setItem(id, value);
				});

	        	$('.logo-storable').change(function(){
					refreshData();
					var id = $(this).attr('id');
					var value = $(this).attr('src');
					localStorage.setItem(id, value);              
	        	});

	        	$('.slot-storable, .title-storable').change(function(){
					refreshData();
					var id = $(this).attr('id');
					var value = $(this).text();
					localStorage.setItem(id, value);
	        	});

				$('.checkbox-storable').change(function(){
					refreshData();
					var id = $(this).attr('id');
					localStorage.setItem(id, $(this).is(':checked'));

					// Check for a twin chekcbox
					if ($(this).hasClass('twin-checkbox')) {
						const twin =$(this).parents('.grid-row').find('.twin-checkbox').not(this);
						id = twin.attr('id');
						localStorage.setItem(id, twin.is(':checked'));
					}
				});

				$('.radio-storable').change(function(){
					refreshData();
					var radio_name = $(this).attr('name');
					$(':input[name=' + radio_name + ']').each(function(){
						var id = $(this).attr('id');
						localStorage.setItem(id, $(this).is(':checked'));
					});
				});

				$('.font-storable, .select-settings-storable').change(function(){
					refreshData();
					var id =  $(this).attr('id');
					localStorage.setItem(id, this.value);
				});

				/**
				 * Indirect changes
 				 */
				$(':button').on('click',function(e){
					// Lanza evento de cambio del input superior
					$(this).parent().find('input').change()
				});

				$('.slot-number').on('click',function(e){
					// Lanza evento de cambio de los divs hermanos
					$(this).siblings('.slot-storable').change();
				});
			}

			function refreshData() {
				console.log('refreshData');
				checkLogos();
				checkSlots("#bottom-left-memory-slots", "#bottom-left-name", "#bottom-left-value", "#bottom-left-logo-preview");
				checkSlots("#bottom-right-memory-slots", "#bottom-right-name", "#bottom-right-value", "#bottom-right-logo-preview");
				checkSlots("#top-left-memory-slots", "#top-left-name", "#top-left-value", "#top-left-logo-preview");
				checkSlots("#top-right-memory-slots", "#top-right-name", "#top-right-value", "#top-right-logo-preview");
				getAppearance();
				checkSwitches();
				function_send();
			}

			function checkUpdates() {
				checkHotkeys();
				updateHotkeys();
			}

			settingsTooltips();
			loadDefaultValues();
			loadData();
			updateCustomFontList();
			refreshData();
			checkSwitches();
			saveData();
			setInterval(() => checkUpdates(), 200);

			// Wait document to be ready to do some stuff
			$( document ).ready(function() {
				$('#defaultTab').click();
			});

		</script>

	</body>
</html>